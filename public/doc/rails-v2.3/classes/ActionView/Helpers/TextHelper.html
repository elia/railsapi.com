<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActionView::Helpers::TextHelper</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            ActionView::Helpers::TextHelper 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionpack/lib/action_view/helpers/text_helper_rb.html">actionpack/lib/action_view/helpers/text_helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>The <a href="TextHelper.html">TextHelper</a> module provides a set of
methods for filtering, formatting and transforming strings, which can
reduce the amount of inline Ruby code in your views. These helper methods
extend <a href="../../ActionView.html">ActionView</a> making them callable
within your template files.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-auto_link">auto_link</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-concat">concat</a>,
              </li>
            
              
              <li>
                <a href="#method-i-current_cycle">current_cycle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-cycle">cycle</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-excerpt">excerpt</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-highlight">highlight</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-markdown">markdown</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-pluralize">pluralize</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-reset_cycle">reset_cycle</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-simple_format">simple_format</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-textilize">textilize</a>,
              </li>
            
              
              <li>
                <a href="#method-i-textilize_without_paragraph">textilize_without_paragraph</a>,
              </li>
            
              
              <li>
                <a href="#method-i-truncate">truncate</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-word_wrap">word_wrap</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">AUTO_LINK_RE</td>
            <td>=</td>
            <td class="attr-value">%r{
(?: ([\w+.:-]+:)// | www\. )
[^\s&lt;]+
}x</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">AUTO_LINK_CRE</td>
            <td>=</td>
            <td class="attr-value">[/&lt;[^&gt;]+$/, /^[^&gt;]*&gt;/, /&lt;a\b.*?&gt;/i, /&lt;\/a&gt;/i]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>regexps for determining context, used high-volume</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">AUTO_EMAIL_RE</td>
            <td>=</td>
            <td class="attr-value">/[\w.!#\$%+-]+@[\w-]+(?:\.[\w-]+)+/</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">BRACKETS</td>
            <td>=</td>
            <td class="attr-value">{ &#39;]&#39; =&gt; &#39;[&#39;, &#39;)&#39; =&gt; &#39;(&#39;, &#39;}&#39; =&gt; &#39;{&#39; }</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-auto_link">
            
              <b>auto_link</b>(text, *args, &amp;block)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-auto_link" name="method-i-auto_link" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Turns all URLs and e-mail addresses into clickable links. The
<code>:link</code> option will limit what should be linked. You can add <a
href="../../HTML.html">HTML</a> attributes to the links using
<code>:href_options</code>. Possible values for <code>:link</code> are
<code>:all</code> (default), <code>:email_addresses</code>, and
<code>:urls</code>. If a block is given, each URL and e-mail address is
yielded and the result is used as the link text.</p>

<h4 id="method-i-auto_link-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">auto_link</span>(<span class="ruby-string">&quot;Go to http://www.rubyonrails.org and say hello to david@loudthinking.com&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;Go to &lt;a href=\&quot;http://www.rubyonrails.org\&quot;&gt;http://www.rubyonrails.org&lt;/a&gt; and</span>
<span class="ruby-comment">#     say hello to &lt;a href=\&quot;mailto:david@loudthinking.com\&quot;&gt;david@loudthinking.com&lt;/a&gt;&quot;</span>

<span class="ruby-identifier">auto_link</span>(<span class="ruby-string">&quot;Visit http://www.loudthinking.com/ or e-mail david@loudthinking.com&quot;</span>, :<span class="ruby-identifier">link</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">urls</span>)
<span class="ruby-comment"># =&gt; &quot;Visit &lt;a href=\&quot;http://www.loudthinking.com/\&quot;&gt;http://www.loudthinking.com/&lt;/a&gt;</span>
<span class="ruby-comment">#     or e-mail david@loudthinking.com&quot;</span>

<span class="ruby-identifier">auto_link</span>(<span class="ruby-string">&quot;Visit http://www.loudthinking.com/ or e-mail david@loudthinking.com&quot;</span>, :<span class="ruby-identifier">link</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">email_addresses</span>)
<span class="ruby-comment"># =&gt; &quot;Visit http://www.loudthinking.com/ or e-mail &lt;a href=\&quot;mailto:david@loudthinking.com\&quot;&gt;david@loudthinking.com&lt;/a&gt;&quot;</span>

<span class="ruby-identifier">post_body</span> = <span class="ruby-string">&quot;Welcome to my new blog at http://www.myblog.com/.  Please e-mail me at me@email.com.&quot;</span>
<span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">post_body</span>, :<span class="ruby-identifier">href_options</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">target</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;_blank&#39;</span> }) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">text</span>, <span class="ruby-value">15</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-comment"># =&gt; &quot;Welcome to my new blog at &lt;a href=\&quot;http://www.myblog.com/\&quot; target=\&quot;_blank\&quot;&gt;http://www.m...&lt;/a&gt;.</span>
      <span class="ruby-constant">Please</span> <span class="ruby-identifier">e</span><span class="ruby-operator">-</span><span class="ruby-identifier">mail</span> <span class="ruby-identifier">me</span> <span class="ruby-identifier">at</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">a</span> <span class="ruby-identifier">href</span>=\<span class="ruby-string">&quot;mailto:me@email.com\&quot;&gt;me@email.com&lt;/a&gt;.&quot;</span>
</pre>

<p>You can still use <code>auto_link</code> with the old API that accepts the
<code>link</code> as its optional second parameter and the
<code>html_options</code> hash as its optional third parameter:</p>

<pre class="ruby"><span class="ruby-identifier">post_body</span> = <span class="ruby-string">&quot;Welcome to my new blog at http://www.myblog.com/. Please e-mail me at me@email.com.&quot;</span>
<span class="ruby-identifier">auto_link</span>(<span class="ruby-identifier">post_body</span>, :<span class="ruby-identifier">urls</span>)     <span class="ruby-comment"># =&gt; Once upon\na time</span>
<span class="ruby-comment"># =&gt; &quot;Welcome to my new blog at &lt;a href=\&quot;http://www.myblog.com/\&quot;&gt;http://www.myblog.com&lt;/a&gt;.</span>
      <span class="ruby-constant">Please</span> <span class="ruby-identifier">e</span><span class="ruby-operator">-</span><span class="ruby-identifier">mail</span> <span class="ruby-identifier">me</span> <span class="ruby-identifier">at</span> <span class="ruby-identifier">me</span><span class="ruby-ivar">@email</span>.<span class="ruby-identifier">com</span>.<span class="ruby-string">&quot;

auto_link(post_body, :all, :target =&gt; &quot;</span><span class="ruby-identifier">_blank</span><span class="ruby-node">&quot;)     # =&gt; Once upon\na time
# =&gt; &quot;</span><span class="ruby-constant">Welcome</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">my</span> <span class="ruby-identifier">new</span> <span class="ruby-identifier">blog</span> <span class="ruby-identifier">at</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">a</span> <span class="ruby-identifier">href</span>=\<span class="ruby-string">&quot;http://www.myblog.com/\&quot; target=\&quot;_blank\&quot;&gt;http://www.myblog.com&lt;/a&gt;.
      Please e-mail me at &lt;a href=\&quot;mailto:me@email.com\&quot;&gt;me@email.com&lt;/a&gt;.&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-auto_link_source')" id="l_method-i-auto_link_source">show</a>
                
              </p>
              <div id="method-i-auto_link_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 371</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">auto_link</span>(<span class="ruby-identifier">text</span>, *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>)<span class="ruby-comment">#link = :all, href_options = {}, &amp;block)</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">blank?</span>

  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">2</span> <span class="ruby-operator">?</span> {} <span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span> <span class="ruby-comment"># this is necessary because the old auto_link API has a Hash as its last parameter</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:link</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">||</span> <span class="ruby-value">:all</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:html</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">||</span> {}
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-value">:link</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:all</span>, <span class="ruby-value">:html</span> =<span class="ruby-operator">&gt;</span> {})

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:link</span>].<span class="ruby-identifier">to_sym</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:all</span>                         <span class="ruby-keyword">then</span> <span class="ruby-identifier">auto_link_email_addresses</span>(<span class="ruby-identifier">auto_link_urls</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:html</span>], &amp;<span class="ruby-identifier">block</span>), <span class="ruby-identifier">options</span>[<span class="ruby-value">:html</span>], &amp;<span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:email_addresses</span>             <span class="ruby-keyword">then</span> <span class="ruby-identifier">auto_link_email_addresses</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:html</span>], &amp;<span class="ruby-identifier">block</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:urls</span>                        <span class="ruby-keyword">then</span> <span class="ruby-identifier">auto_link_urls</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:html</span>], &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-concat">
            
              <b>concat</b>(string, unused_binding = nil)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-concat" name="method-i-concat" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The preferred method of outputting text in your views is to use the &lt;%=
“text” %&gt; eRuby syntax. The regular <em>puts</em> and <em>print</em>
methods do not operate as expected in an eRuby code block. If you
absolutely must output text within a non-output code block (i.e., &lt;%
%&gt;), you can use the concat method.</p>

<h4 id="method-i-concat-label-Examples">Examples</h4>

<pre>&lt;%
    concat &quot;hello&quot;
    # is the equivalent of &lt;%= &quot;hello&quot; %&gt;

    if (logged_in == true):
      concat &quot;Logged in!&quot;
    else
      concat link_to(&#39;login&#39;, :action =&gt; login)
    end
    # will either display &quot;Logged in!&quot; or a login link
%&gt;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-concat_source')" id="l_method-i-concat_source">show</a>
                
              </p>
              <div id="method-i-concat_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">concat</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">unused_binding</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">unused_binding</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;The binding argument of #concat is no longer needed.  Please remove it from your views and helpers.&quot;</span>, <span class="ruby-identifier">caller</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">output_buffer</span>.<span class="ruby-identifier">safe_concat</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-current_cycle">
            
              <b>current_cycle</b>(name = &quot;default&quot;)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-current_cycle" name="method-i-current_cycle" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the current cycle string after a cycle has been started. Useful for
complex table highlighing or any other design need which requires the
current cycle string in more than one place.</p>

<h4 id="method-i-current_cycle-label-Example">Example</h4>

<pre># Alternate background colors
@items = [1,2,3,4]
&lt;% @items.each do |item| %&gt;
  &lt;div style=&quot;background-color:&lt;%= cycle(&quot;red&quot;,&quot;white&quot;,&quot;blue&quot;) %&gt;&quot;&gt;
    &lt;span style=&quot;background-color:&lt;%= current_cycle %&gt;&quot;&gt;&lt;%= item %&gt;&lt;/span&gt;
  &lt;/div&gt;
&lt;% end %&gt;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-current_cycle_source')" id="l_method-i-current_cycle_source">show</a>
                
              </p>
              <div id="method-i-current_cycle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 454</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">current_cycle</span>(<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;default&quot;</span>)
  <span class="ruby-identifier">cycle</span> = <span class="ruby-identifier">get_cycle</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">cycle</span>.<span class="ruby-identifier">current_value</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cycle</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-cycle">
            
              <b>cycle</b>(first_value, *values)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-cycle" name="method-i-cycle" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates a Cycle object whose <em>to_s</em> method cycles through elements
of an array every time it is called. This can be used for example, to
alternate classes for table rows.  You can use named cycles to allow
nesting in loops. Passing a <a href="../../Hash.html">Hash</a> as the last
parameter with a <code>:name</code> key will create a named cycle. The
default name for a cycle without a <code>:name</code> key is
<code>&quot;default&quot;</code>. You can manually reset a cycle by calling
<a href="TextHelper.html#method-i-reset_cycle">#reset_cycle</a> and passing
the name of the cycle. The current cycle string can be obtained anytime
using the <a
href="TextHelper.html#method-i-current_cycle">#current_cycle</a> method.</p>

<h4 id="method-i-cycle-label-Examples">Examples</h4>

<pre> # Alternate CSS classes for even and odd numbers...
 @items = [1,2,3,4]
 &lt;table&gt;
 &lt;% @items.each do |item| %&gt;
   &lt;tr class=&quot;&lt;%= cycle(&quot;even&quot;, &quot;odd&quot;) -%&gt;&quot;&gt;
     &lt;td&gt;item&lt;/td&gt;
   &lt;/tr&gt;
 &lt;% end %&gt;
 &lt;/table&gt;

 # Cycle CSS classes for rows, and text colors for values within each row
 @items = x = [{:first =&gt; &#39;Robert&#39;, :middle =&gt; &#39;Daniel&#39;, :last =&gt; &#39;James&#39;},
              {:first =&gt; &#39;Emily&#39;, :middle =&gt; &#39;Shannon&#39;, :maiden =&gt; &#39;Pike&#39;, :last =&gt; &#39;Hicks&#39;},
             {:first =&gt; &#39;June&#39;, :middle =&gt; &#39;Dae&#39;, :last =&gt; &#39;Jones&#39;}]
 &lt;% @items.each do |item| %&gt;
   &lt;tr class=&quot;&lt;%= cycle(&quot;even&quot;, &quot;odd&quot;, :name =&gt; &quot;row_class&quot;) -%&gt;&quot;&gt;
     &lt;td&gt;
       &lt;% item.values.each do |value| %&gt;
         &lt;%# Create a named cycle &quot;colors&quot; %&gt;
         &lt;span style=&quot;color:&lt;%= cycle(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, :name =&gt; &quot;colors&quot;) -%&gt;&quot;&gt;
           &lt;%= value %&gt;
         &lt;/span&gt;
       &lt;% end %&gt;
       &lt;% reset_cycle(&quot;colors&quot;) %&gt;
     &lt;/td&gt;
  &lt;/tr&gt;
&lt;% end %&gt;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-cycle_source')" id="l_method-i-cycle_source">show</a>
                
              </p>
              <div id="method-i-cycle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cycle</span>(<span class="ruby-identifier">first_value</span>, *<span class="ruby-identifier">values</span>)
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">values</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">instance_of?</span> <span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">params</span> = <span class="ruby-identifier">values</span>.<span class="ruby-identifier">pop</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:name</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;default&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">values</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">first_value</span>)

  <span class="ruby-identifier">cycle</span> = <span class="ruby-identifier">get_cycle</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">cycle</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">cycle</span>.<span class="ruby-identifier">values</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">values</span>)
    <span class="ruby-identifier">cycle</span> = <span class="ruby-identifier">set_cycle</span>(<span class="ruby-identifier">name</span>, <span class="ruby-constant">Cycle</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">values</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">cycle</span>.<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-excerpt">
            
              <b>excerpt</b>(text, phrase, *args)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-excerpt" name="method-i-excerpt" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Extracts an excerpt from <code>text</code> that matches the first instance
of <code>phrase</code>. The <code>:radius</code> option expands the excerpt
on each side of the first occurrence of <code>phrase</code> by the number
of characters defined in <code>:radius</code> (which defaults to 100). If
the excerpt radius overflows the beginning or end of the <code>text</code>,
then the <code>:omission</code> option (which defaults to “…”) will be
prepended/appended accordingly. The resulting string will be stripped in
any case. If the <code>phrase</code> isn&#39;t found, nil is returned.</p>

<h4 id="method-i-excerpt-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">excerpt</span>(<span class="ruby-string">&#39;This is an example&#39;</span>, <span class="ruby-string">&#39;an&#39;</span>, :<span class="ruby-identifier">radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
<span class="ruby-comment"># =&gt; ...s is an exam...</span>

<span class="ruby-identifier">excerpt</span>(<span class="ruby-string">&#39;This is an example&#39;</span>, <span class="ruby-string">&#39;is&#39;</span>, :<span class="ruby-identifier">radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
<span class="ruby-comment"># =&gt; This is a...</span>

<span class="ruby-identifier">excerpt</span>(<span class="ruby-string">&#39;This is an example&#39;</span>, <span class="ruby-string">&#39;is&#39;</span>)
<span class="ruby-comment"># =&gt; This is an example</span>

<span class="ruby-identifier">excerpt</span>(<span class="ruby-string">&#39;This next thing is an example&#39;</span>, <span class="ruby-string">&#39;ex&#39;</span>, :<span class="ruby-identifier">radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>)
<span class="ruby-comment"># =&gt; ...next...</span>

<span class="ruby-identifier">excerpt</span>(<span class="ruby-string">&#39;This is also an example&#39;</span>, <span class="ruby-string">&#39;an&#39;</span>, :<span class="ruby-identifier">radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">8</span>, :<span class="ruby-identifier">omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;&lt;chop&gt; &#39;</span>)
<span class="ruby-comment"># =&gt; &lt;chop&gt; is also an example</span>
</pre>

<p>You can still use <code>excerpt</code> with the old API that accepts the
<code>radius</code> as its optional third and the <code>ellipsis</code> as
its optional forth parameter:</p>

<pre class="ruby"><span class="ruby-identifier">excerpt</span>(<span class="ruby-string">&#39;This is an example&#39;</span>, <span class="ruby-string">&#39;an&#39;</span>, <span class="ruby-value">5</span>)                   <span class="ruby-comment"># =&gt; ...s is an exam...</span>
<span class="ruby-identifier">excerpt</span>(<span class="ruby-string">&#39;This is also an example&#39;</span>, <span class="ruby-string">&#39;an&#39;</span>, <span class="ruby-value">8</span>, <span class="ruby-string">&#39;&lt;chop&gt; &#39;</span>)   <span class="ruby-comment"># =&gt; &lt;chop&gt; is also an example</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-excerpt_source')" id="l_method-i-excerpt_source">show</a>
                
              </p>
              <div id="method-i-excerpt_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 142</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">excerpt</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">phrase</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:radius</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">||</span> <span class="ruby-number">100</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:omission</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;...&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-value">:radius</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">100</span>, <span class="ruby-value">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;...&quot;</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">text</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">phrase</span>
    <span class="ruby-identifier">phrase</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">phrase</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">found_pos</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">mb_chars</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/(#{phrase})/</span>
      <span class="ruby-identifier">start_pos</span> = [ <span class="ruby-identifier">found_pos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:radius</span>], <span class="ruby-number">0</span> ].<span class="ruby-identifier">max</span>
      <span class="ruby-identifier">end_pos</span>   = [ [ <span class="ruby-identifier">found_pos</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">phrase</span>.<span class="ruby-identifier">mb_chars</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:radius</span>] <span class="ruby-operator">-</span> <span class="ruby-number">1</span>, <span class="ruby-number">0</span>].<span class="ruby-identifier">max</span>, <span class="ruby-identifier">text</span>.<span class="ruby-identifier">mb_chars</span>.<span class="ruby-identifier">length</span> ].<span class="ruby-identifier">min</span>

      <span class="ruby-identifier">prefix</span>  = <span class="ruby-identifier">start_pos</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:omission</span>] <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>
      <span class="ruby-identifier">postfix</span> = <span class="ruby-identifier">end_pos</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">mb_chars</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-number">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:omission</span>] <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>

      <span class="ruby-identifier">prefix</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">mb_chars</span>[<span class="ruby-identifier">start_pos</span><span class="ruby-operator">..</span><span class="ruby-identifier">end_pos</span>].<span class="ruby-identifier">strip</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">postfix</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-highlight">
            
              <b>highlight</b>(text, phrases, *args)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-highlight" name="method-i-highlight" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Highlights one or more <code>phrases</code> everywhere in <code>text</code>
by inserting it into a <code>:highlighter</code> string. The highlighter
can be specialized by passing <code>:highlighter</code> as a single-quoted
string with 1 where the phrase is to be inserted (defaults to
&#39;&lt;strong class=“highlight”&gt;1&lt;/strong&gt;&#39;)</p>

<h4 id="method-i-highlight-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">highlight</span>(<span class="ruby-string">&#39;You searched for: rails&#39;</span>, <span class="ruby-string">&#39;rails&#39;</span>)
<span class="ruby-comment"># =&gt; You searched for: &lt;strong class=&quot;highlight&quot;&gt;rails&lt;/strong&gt;</span>

<span class="ruby-identifier">highlight</span>(<span class="ruby-string">&#39;You searched for: ruby, rails, dhh&#39;</span>, <span class="ruby-string">&#39;actionpack&#39;</span>)
<span class="ruby-comment"># =&gt; You searched for: ruby, rails, dhh</span>

<span class="ruby-identifier">highlight</span>(<span class="ruby-string">&#39;You searched for: rails&#39;</span>, [<span class="ruby-string">&#39;for&#39;</span>, <span class="ruby-string">&#39;rails&#39;</span>], :<span class="ruby-identifier">highlighter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;&lt;em&gt;\1&lt;/em&gt;&#39;</span>)
<span class="ruby-comment"># =&gt; You searched &lt;em&gt;for&lt;/em&gt;: &lt;em&gt;rails&lt;/em&gt;</span>

<span class="ruby-identifier">highlight</span>(<span class="ruby-string">&#39;You searched for: rails&#39;</span>, <span class="ruby-string">&#39;rails&#39;</span>, :<span class="ruby-identifier">highlighter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;&lt;a href=&quot;search?q=\1&quot;&gt;\1&lt;/a&gt;&#39;</span>)
<span class="ruby-comment"># =&gt; You searched for: &lt;a href=&quot;search?q=rails&quot;&gt;rails&lt;/a&gt;</span>
</pre>

<p>You can still use <code>highlight</code> with the old API that accepts the
<code>highlighter</code> as its optional third parameter:</p>

<pre class="ruby"><span class="ruby-identifier">highlight</span>(<span class="ruby-string">&#39;You searched for: rails&#39;</span>, <span class="ruby-string">&#39;rails&#39;</span>, <span class="ruby-string">&#39;&lt;a href=&quot;search?q=\1&quot;&gt;\1&lt;/a&gt;&#39;</span>)     <span class="ruby-comment"># =&gt; You searched for: &lt;a href=&quot;search?q=rails&quot;&gt;rails&lt;/a&gt;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-highlight_source')" id="l_method-i-highlight_source">show</a>
                
              </p>
              <div id="method-i-highlight_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">highlight</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">phrases</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:highlighter</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&#39;&lt;strong class=&quot;highlight&quot;&gt;\1&lt;/strong&gt;&#39;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-value">:highlighter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;&lt;strong class=&quot;highlight&quot;&gt;\1&lt;/strong&gt;&#39;</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">phrases</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">text</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">match</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">phrases</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">p</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;|&#39;</span>)
    <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-node">/(#{match})(?!(?:[^&lt;]*?)(?:[&quot;&#39;])[^&lt;&gt;]*&gt;)/</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:highlighter</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-markdown">
            
              <b>markdown</b>(text)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-markdown" name="method-i-markdown" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the text with all the Markdown codes turned into <a
href="../../HTML.html">HTML</a> tags. <em>This method requires <a
href="http://www.deveiate.org/projects/BlueCloth">BlueCloth</a> or another
Markdown library to be installed.</em>.</p>

<h4 id="method-i-markdown-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">markdown</span>(<span class="ruby-string">&quot;We are using __Markdown__ now!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p&gt;We are using &lt;strong&gt;Markdown&lt;/strong&gt; now!&lt;/p&gt;&quot;</span>

<span class="ruby-identifier">markdown</span>(<span class="ruby-string">&quot;We like to _write_ `code`, not just _read_ it!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p&gt;We like to &lt;em&gt;write&lt;/em&gt; &lt;code&gt;code&lt;/code&gt;, not just &lt;em&gt;read&lt;/em&gt; it!&lt;/p&gt;&quot;</span>

<span class="ruby-identifier">markdown</span>(<span class="ruby-string">&quot;The [Markdown website](http://daringfireball.net/projects/markdown/) has more information.&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p&gt;The &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown website&lt;/a&gt;</span>
<span class="ruby-comment">#     has more information.&lt;/p&gt;&quot;</span>

<span class="ruby-identifier">markdown</span>(<span class="ruby-string">&#39;![The ROR logo](http://rubyonrails.com/images/rails.png &quot;Ruby on Rails&quot;)&#39;</span>)
<span class="ruby-comment"># =&gt; &#39;&lt;p&gt;&lt;img src=&quot;http://rubyonrails.com/images/rails.png&quot; alt=&quot;The ROR logo&quot; title=&quot;Ruby on Rails&quot; /&gt;&lt;/p&gt;&#39;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-markdown_source')" id="l_method-i-markdown_source">show</a>
                
              </p>
              <div id="method-i-markdown_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 299</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">markdown</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Markdown</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>).<span class="ruby-identifier">to_html</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-pluralize">
            
              <b>pluralize</b>(count, singular, plural = nil)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-pluralize" name="method-i-pluralize" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Attempts to pluralize the <code>singular</code> word unless
<code>count</code> is 1. If <code>plural</code> is supplied, it will use
that when count is &gt; 1, otherwise it will use the Inflector to determine
the plural form</p>

<h4 id="method-i-pluralize-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">pluralize</span>(<span class="ruby-value">1</span>, <span class="ruby-string">&#39;person&#39;</span>)
<span class="ruby-comment"># =&gt; 1 person</span>

<span class="ruby-identifier">pluralize</span>(<span class="ruby-value">2</span>, <span class="ruby-string">&#39;person&#39;</span>)
<span class="ruby-comment"># =&gt; 2 people</span>

<span class="ruby-identifier">pluralize</span>(<span class="ruby-value">3</span>, <span class="ruby-string">&#39;person&#39;</span>, <span class="ruby-string">&#39;users&#39;</span>)
<span class="ruby-comment"># =&gt; 3 users</span>

<span class="ruby-identifier">pluralize</span>(<span class="ruby-value">0</span>, <span class="ruby-string">&#39;person&#39;</span>)
<span class="ruby-comment"># =&gt; 0 people</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-pluralize_source')" id="l_method-i-pluralize_source">show</a>
                
              </p>
              <div id="method-i-pluralize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">pluralize</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">singular</span>, <span class="ruby-identifier">plural</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-node">&quot;#{count || 0} &quot;</span> <span class="ruby-operator">+</span> ((<span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^1(\.0+)?$/</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">singular</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">plural</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">singular</span>.<span class="ruby-identifier">pluralize</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reset_cycle">
            
              <b>reset_cycle</b>(name = &quot;default&quot;)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-reset_cycle" name="method-i-reset_cycle" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Resets a cycle so that it starts from the first element the next time it is
called. Pass in <code>name</code> to reset a named cycle.</p>

<h4 id="method-i-reset_cycle-label-Example">Example</h4>

<pre># Alternate CSS classes for even and odd numbers...
@items = [[1,2,3,4], [5,6,3], [3,4,5,6,7,4]]
&lt;table&gt;
&lt;% @items.each do |item| %&gt;
  &lt;tr class=&quot;&lt;%= cycle(&quot;even&quot;, &quot;odd&quot;) -%&gt;&quot;&gt;
      &lt;% item.each do |value| %&gt;
        &lt;span style=&quot;color:&lt;%= cycle(&quot;#333&quot;, &quot;#666&quot;, &quot;#999&quot;, :name =&gt; &quot;colors&quot;) -%&gt;&quot;&gt;
          &lt;%= value %&gt;
        &lt;/span&gt;
      &lt;% end %&gt;

      &lt;% reset_cycle(&quot;colors&quot;) %&gt;
  &lt;/tr&gt;
&lt;% end %&gt;
&lt;/table&gt;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reset_cycle_source')" id="l_method-i-reset_cycle_source">show</a>
                
              </p>
              <div id="method-i-reset_cycle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 478</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reset_cycle</span>(<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;default&quot;</span>)
  <span class="ruby-identifier">cycle</span> = <span class="ruby-identifier">get_cycle</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">cycle</span>.<span class="ruby-identifier">reset</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cycle</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-simple_format">
            
              <b>simple_format</b>(text, html_options={})
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-simple_format" name="method-i-simple_format" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>text</code> transformed into <a
href="../../HTML.html">HTML</a> using simple formatting rules. Two or more
consecutive newlines(<code>\n\n</code>) are considered as a paragraph and
wrapped in <code>&lt;p&gt;</code> tags. One newline (<code>\n</code>) is
considered as a linebreak and a <code>&lt;br /&gt;</code> tag is appended.
This method does not remove the newlines from the <code>text</code>.</p>

<p>You can pass any <a href="../../HTML.html">HTML</a> attributes into
<code>html_options</code>.  These will be added to all created paragraphs.</p>

<h4 id="method-i-simple_format-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">my_text</span> = <span class="ruby-string">&quot;Here is some basic text...\n...with a line break.&quot;</span>

<span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">my_text</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p&gt;Here is some basic text...\n&lt;br /&gt;...with a line break.&lt;/p&gt;&quot;</span>

<span class="ruby-identifier">more_text</span> = <span class="ruby-string">&quot;We want to put a paragraph...\n\n...right there.&quot;</span>

<span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">more_text</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p&gt;We want to put a paragraph...&lt;/p&gt;\n\n&lt;p&gt;...right there.&lt;/p&gt;&quot;</span>

<span class="ruby-identifier">simple_format</span>(<span class="ruby-string">&quot;Look ma! A class!&quot;</span>, :<span class="ruby-keyword">class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;description&#39;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p class=&#39;description&#39;&gt;Look ma! A class!&lt;/p&gt;&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-simple_format_source')" id="l_method-i-simple_format_source">show</a>
                
              </p>
              <div id="method-i-simple_format_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">simple_format</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">html_options</span>={})
  <span class="ruby-identifier">start_tag</span> = <span class="ruby-identifier">tag</span>(<span class="ruby-string">&#39;p&#39;</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/\r\n?/</span>, <span class="ruby-string">&quot;\n&quot;</span>)                    <span class="ruby-comment"># \r\n and \r -&gt; \n</span>
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/\n\n+/</span>, <span class="ruby-node">&quot;&lt;/p&gt;\n\n#{start_tag}&quot;</span>)  <span class="ruby-comment"># 2+ newline  -&gt; paragraph</span>
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/([^\n]\n)(?=[^\n])/</span>, <span class="ruby-string">&#39;\1&lt;br /&gt;&#39;</span>) <span class="ruby-comment"># 1 newline   -&gt; br</span>
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">insert</span> <span class="ruby-number">0</span>, <span class="ruby-identifier">start_tag</span>
  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">html_safe</span>.<span class="ruby-identifier">safe_concat</span>(<span class="ruby-string">&quot;&lt;/p&gt;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-textilize">
            
              <b>textilize</b>(text, *options)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-textilize" name="method-i-textilize" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the text with all the <a
href="http://www.textism.com/tools/textile">Textile</a> codes turned into
<a href="../../HTML.html">HTML</a> tags.</p>

<p>You can learn more about Textile&#39;s syntax at its <a
href="http://www.textism.com/tools/textile">website</a>. <em>This method is
only available if <a
href="http://whytheluckystiff.net/ruby/redcloth/">RedCloth</a> is
available</em>.</p>

<h4 id="method-i-textilize-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">textilize</span>(<span class="ruby-string">&quot;*This is Textile!*  Rejoice!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p&gt;&lt;strong&gt;This is Textile!&lt;/strong&gt;  Rejoice!&lt;/p&gt;&quot;</span>

<span class="ruby-identifier">textilize</span>(<span class="ruby-string">&quot;I _love_ ROR(Ruby on Rails)!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;p&gt;I &lt;em&gt;love&lt;/em&gt; &lt;acronym title=&quot;Ruby on Rails&quot;&gt;ROR&lt;/acronym&gt;!&lt;/p&gt;&quot;</span>

<span class="ruby-identifier">textilize</span>(<span class="ruby-string">&quot;h2. Textile makes markup -easy- simple!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;h2&gt;Textile makes markup &lt;del&gt;easy&lt;/del&gt; simple!&lt;/h2&gt;&quot;</span>

<span class="ruby-identifier">textilize</span>(<span class="ruby-string">&quot;Visit the Rails website &quot;</span><span class="ruby-identifier">here</span><span class="ruby-node">&quot;:http://www.rubyonrails.org/.)
# =&gt; &quot;</span><span class="ruby-operator">&lt;</span><span class="ruby-identifier">p</span><span class="ruby-operator">&gt;</span><span class="ruby-constant">Visit</span> <span class="ruby-identifier">the</span> <span class="ruby-constant">Rails</span> <span class="ruby-identifier">website</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">a</span> <span class="ruby-identifier">href</span>=<span class="ruby-string">&quot;http://www.rubyonrails.org/&quot;</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">here</span><span class="ruby-operator">&lt;</span><span class="ruby-regexp">/a&gt;.&lt;/</span><span class="ruby-identifier">p</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;

textilize(&quot;</span><span class="ruby-constant">This</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">worded</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">strong</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">strongly</span><span class="ruby-operator">&lt;</span><span class="ruby-node">/strong&gt;&quot;)
# =&gt; &quot;&lt;p&gt;This is worded &lt;strong&gt;strongly&lt;/</span><span class="ruby-identifier">trong</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">&lt;</span><span class="ruby-regexp">/p&gt;&quot;

textilize(&quot;This is worded &lt;strong&gt;strongly&lt;/</span><span class="ruby-identifier">trong</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;, :filter_html)
# =&gt; &quot;</span><span class="ruby-operator">&lt;</span><span class="ruby-identifier">p</span><span class="ruby-operator">&gt;</span><span class="ruby-constant">This</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">worded</span> &amp;<span class="ruby-identifier">lt</span>;<span class="ruby-identifier">strong</span>&amp;<span class="ruby-identifier">gt</span>;<span class="ruby-identifier">strongly</span>&amp;<span class="ruby-identifier">lt</span>;<span class="ruby-regexp">/strong&amp;gt;&lt;/</span><span class="ruby-identifier">p</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;
</span></pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-textilize_source')" id="l_method-i-textilize_source">show</a>
                
              </p>
              <div id="method-i-textilize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">textilize</span>(<span class="ruby-identifier">text</span>, *<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> [<span class="ruby-value">:hard_breaks</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">textilized</span> = <span class="ruby-constant">RedCloth</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-identifier">textilized</span>.<span class="ruby-identifier">to_html</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-textilize_without_paragraph">
            
              <b>textilize_without_paragraph</b>(text)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-textilize_without_paragraph" name="method-i-textilize_without_paragraph" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the text with all the Textile codes turned into <a
href="../../HTML.html">HTML</a> tags, but without the bounding &lt;p&gt;
tag that RedCloth adds.</p>

<p>You can learn more about Textile&#39;s syntax at its <a
href="http://www.textism.com/tools/textile">website</a>. <em>This method is
requires <a href="http://whytheluckystiff.net/ruby/redcloth/">RedCloth</a>
to be available</em>.</p>

<h4 id="method-i-textilize_without_paragraph-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">textilize_without_paragraph</span>(<span class="ruby-string">&quot;*This is Textile!*  Rejoice!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;strong&gt;This is Textile!&lt;/strong&gt;  Rejoice!&quot;</span>

<span class="ruby-identifier">textilize_without_paragraph</span>(<span class="ruby-string">&quot;I _love_ ROR(Ruby on Rails)!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;I &lt;em&gt;love&lt;/em&gt; &lt;acronym title=&quot;Ruby on Rails&quot;&gt;ROR&lt;/acronym&gt;!&quot;</span>

<span class="ruby-identifier">textilize_without_paragraph</span>(<span class="ruby-string">&quot;h2. Textile makes markup -easy- simple!&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;&lt;h2&gt;Textile makes markup &lt;del&gt;easy&lt;/del&gt; simple!&lt;/h2&gt;&quot;</span>

<span class="ruby-identifier">textilize_without_paragraph</span>(<span class="ruby-string">&quot;Visit the Rails website &quot;</span><span class="ruby-identifier">here</span><span class="ruby-node">&quot;:http://www.rubyonrails.org/.)
# =&gt; &quot;</span><span class="ruby-constant">Visit</span> <span class="ruby-identifier">the</span> <span class="ruby-constant">Rails</span> <span class="ruby-identifier">website</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">a</span> <span class="ruby-identifier">href</span>=<span class="ruby-string">&quot;http://www.rubyonrails.org/&quot;</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">here</span><span class="ruby-operator">&lt;</span><span class="ruby-regexp">/a&gt;.&quot;
</span></pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-textilize_without_paragraph_source')" id="l_method-i-textilize_without_paragraph_source">show</a>
                
              </p>
              <div id="method-i-textilize_without_paragraph_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">textilize_without_paragraph</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-identifier">textiled</span> = <span class="ruby-identifier">textilize</span>(<span class="ruby-identifier">text</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">textiled</span>[<span class="ruby-number">0</span><span class="ruby-operator">..</span><span class="ruby-number">2</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&lt;p&gt;&quot;</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">textiled</span> = <span class="ruby-identifier">textiled</span>[<span class="ruby-number">3</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>] <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">textiled</span>[<span class="ruby-number">-4</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&lt;/p&gt;&quot;</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">textiled</span> = <span class="ruby-identifier">textiled</span>[<span class="ruby-number">0</span><span class="ruby-operator">..</span><span class="ruby-number">-5</span>] <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">textiled</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-truncate">
            
              <b>truncate</b>(text, *args)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-truncate" name="method-i-truncate" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Truncates a given <code>text</code> after a given <code>:length</code> if
<code>text</code> is longer than <code>:length</code> (defaults to 30). The
last characters will be replaced with the <code>:omission</code> (defaults
to “…”) for a total length not exceeding <code>:length</code>.</p>

<h4 id="method-i-truncate-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">truncate</span>(<span class="ruby-string">&quot;Once upon a time in a world far far away&quot;</span>)
<span class="ruby-comment"># =&gt; Once upon a time in a world...</span>

<span class="ruby-identifier">truncate</span>(<span class="ruby-string">&quot;Once upon a time in a world far far away&quot;</span>, :<span class="ruby-identifier">length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">14</span>)
<span class="ruby-comment"># =&gt; Once upon a...</span>

<span class="ruby-identifier">truncate</span>(<span class="ruby-string">&quot;And they found that many people were sleeping better.&quot;</span>, :<span class="ruby-identifier">length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">25</span>, <span class="ruby-string">&quot;(clipped)&quot;</span>)
<span class="ruby-comment"># =&gt; And they found t(clipped)</span>

<span class="ruby-identifier">truncate</span>(<span class="ruby-string">&quot;And they found that many people were sleeping better.&quot;</span>, :<span class="ruby-identifier">omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;... (continued)&quot;</span>, :<span class="ruby-identifier">length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">25</span>)
<span class="ruby-comment"># =&gt; And they f... (continued)</span>
</pre>

<p>You can still use <code>truncate</code> with the old API that accepts the
<code>length</code> as its optional second and the <code>ellipsis</code> as
its optional third parameter:</p>

<pre class="ruby"><span class="ruby-identifier">truncate</span>(<span class="ruby-string">&quot;Once upon a time in a world far far away&quot;</span>, <span class="ruby-value">14</span>)
<span class="ruby-comment"># =&gt; Once upon a...</span>

<span class="ruby-identifier">truncate</span>(<span class="ruby-string">&quot;And they found that many people were sleeping better.&quot;</span>, <span class="ruby-value">25</span>, <span class="ruby-string">&quot;... (continued)&quot;</span>)
<span class="ruby-comment"># =&gt; And they f... (continued)</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-truncate_source')" id="l_method-i-truncate_source">show</a>
                
              </p>
              <div id="method-i-truncate_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">truncate</span>(<span class="ruby-identifier">text</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;truncate takes an option hash instead of separate &#39;</span> <span class="ruby-operator">+</span>
      <span class="ruby-string">&#39;length and omission arguments&#39;</span>, <span class="ruby-identifier">caller</span>)

    <span class="ruby-identifier">options</span>[<span class="ruby-value">:length</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">||</span> <span class="ruby-number">30</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:omission</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;...&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-value">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">30</span>, <span class="ruby-value">:omission</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;...&quot;</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">text</span>
    <span class="ruby-identifier">l</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:length</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:omission</span>].<span class="ruby-identifier">mb_chars</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-identifier">chars</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">mb_chars</span>
    (<span class="ruby-identifier">chars</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:length</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">chars</span>[<span class="ruby-number">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">l</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:omission</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">text</span>).<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-word_wrap">
            
              <b>word_wrap</b>(text, *args)
            
            <a href="../../../classes/ActionView/Helpers/TextHelper.html#method-i-word_wrap" name="method-i-word_wrap" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Wraps the <code>text</code> into lines no longer than
<code>line_width</code> width. This method breaks on the first whitespace
character that does not exceed <code>line_width</code> (which is 80 by
default).</p>

<h4 id="method-i-word_wrap-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-identifier">word_wrap</span>(<span class="ruby-string">&#39;Once upon a time&#39;</span>)
<span class="ruby-comment"># =&gt; Once upon a time</span>

<span class="ruby-identifier">word_wrap</span>(<span class="ruby-string">&#39;Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding a successor to the throne turned out to be more trouble than anyone could have imagined...&#39;</span>)
<span class="ruby-comment"># =&gt; Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding\n a successor to the throne turned out to be more trouble than anyone could have\n imagined...</span>

<span class="ruby-identifier">word_wrap</span>(<span class="ruby-string">&#39;Once upon a time&#39;</span>, :<span class="ruby-identifier">line_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">8</span>)
<span class="ruby-comment"># =&gt; Once upon\na time</span>

<span class="ruby-identifier">word_wrap</span>(<span class="ruby-string">&#39;Once upon a time&#39;</span>, :<span class="ruby-identifier">line_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
<span class="ruby-comment"># =&gt; Once\nupon\na\ntime</span>
</pre>

<p>You can still use <code>word_wrap</code> with the old API that accepts the
<code>line_width</code> as its optional second parameter:</p>

<pre class="ruby"><span class="ruby-identifier">word_wrap</span>(<span class="ruby-string">&#39;Once upon a time&#39;</span>, <span class="ruby-value">8</span>)     <span class="ruby-comment"># =&gt; Once upon\na time</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-word_wrap_source')" id="l_method-i-word_wrap_source">show</a>
                
              </p>
              <div id="method-i-word_wrap_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionpack/lib/action_view/helpers/text_helper.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">word_wrap</span>(<span class="ruby-identifier">text</span>, *<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:line_width</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">||</span> <span class="ruby-number">80</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge!</span>(<span class="ruby-value">:line_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">80</span>)

  <span class="ruby-identifier">text</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">line</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:line_width</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-node">/(.{1,#{options[:line_width]}})(\s+|$)/</span>, <span class="ruby-string">&quot;\\1\n&quot;</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">line</span>
  <span class="ruby-keyword">end</span> * <span class="ruby-string">&quot;\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    