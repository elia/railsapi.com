<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActiveRecord::Base</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            ActiveRecord::Base 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/activerecord/lib/active_record/base_rb.html">activerecord/lib/active_record/base.rb</a></li>
            
            <li><a href="../../files/activerecord/lib/active_record/connection_adapters/abstract/connection_specification_rb.html">activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb</a></li>
            
            <li><a href="../../files/activerecord/lib/active_record/connection_adapters/mysql_adapter_rb.html">activerecord/lib/active_record/connection_adapters/mysql_adapter.rb</a></li>
            
            <li><a href="../../files/activerecord/lib/active_record/connection_adapters/postgresql_adapter_rb.html">activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb</a></li>
            
            <li><a href="../../files/activerecord/lib/active_record/connection_adapters/sqlite3_adapter_rb.html">activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb</a></li>
            
            <li><a href="../../files/activerecord/lib/active_record/connection_adapters/sqlite_adapter_rb.html">activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Active Record objects don&#39;t specify their attributes directly, but
rather infer them from the table definition with which they&#39;re linked.
Adding, removing, and changing attributes and their type is done directly
in the database. Any change is instantly reflected in the Active Record
objects. The mapping that binds a given Active Record class to a certain
database table will happen automatically in most common cases, but can be
overwritten for the uncommon ones.</p>

<p>See the mapping rules in <a
href="Base.html#method-c-table_name">::table_name</a> and the full example
in <a href="../../files/README.html">files/README.html</a> for more
insight.</p>

<h2 id="label-Creation">Creation</h2>

<p>Active Records accept constructor parameters either in a hash or as a
block. The hash method is especially useful when you&#39;re receiving the
data from somewhere else, like an HTTP request. It works like this:</p>

<pre class="ruby"><span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>, :<span class="ruby-identifier">occupation</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Code Artist&quot;</span>)
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">name</span> <span class="ruby-comment"># =&gt; &quot;David&quot;</span>
</pre>

<p>You can also use block initialization:</p>

<pre class="ruby"><span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">u</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">u</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;David&quot;</span>
  <span class="ruby-identifier">u</span>.<span class="ruby-identifier">occupation</span> = <span class="ruby-string">&quot;Code Artist&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>And of course you can just create a bare object and specify the attributes
after the fact:</p>

<pre>user = User.new
user.name = &quot;David&quot;
user.occupation = &quot;Code Artist&quot;</pre>

<h2 id="label-Conditions">Conditions</h2>

<p>Conditions can either be specified as a string, array, or hash representing
the WHERE-part of an SQL statement. The array form is to be used when the
condition input is tainted and requires sanitization. The string form can
be used for statements that don&#39;t involve tainted data. The hash form
works much like the array form, except only equality and range is possible.
Examples:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authenticate_unsafely</span>(<span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span>)
    <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;user_name = &#39;#{user_name}&#39; AND password = &#39;#{password}&#39;&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authenticate_safely</span>(<span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span>)
    <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;user_name = ? AND password = ?&quot;</span>, <span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span> ])
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authenticate_safely_simply</span>(<span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span>)
    <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">user_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user_name</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">password</span> })
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>The <code>authenticate_unsafely</code> method inserts the parameters
directly into the query and is thus susceptible to SQL-injection attacks if
the <code>user_name</code> and <code>password</code> parameters come
directly from an HTTP request. The <code>authenticate_safely</code>  and
<code>authenticate_safely_simply</code> both will sanitize the
<code>user_name</code> and <code>password</code> before inserting them in
the query, which will ensure that an attacker can&#39;t escape the query
and fake the login (or worse).</p>

<p>When using multiple parameters in the conditions, it can easily become hard
to read exactly what the fourth or fifth question mark is supposed to
represent. In those cases, you can resort to named bind variables instead.
That&#39;s done by replacing the question marks with symbols and supplying
a hash with values for the matching symbol keys:</p>

<pre class="ruby"><span class="ruby-constant">Company</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [
  <span class="ruby-string">&quot;id = :id AND name = :name AND division = :division AND created_at &gt; :accounting_date&quot;</span>,
  { :<span class="ruby-identifier">id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;37signals&quot;</span>, :<span class="ruby-identifier">division</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;First&quot;</span>, :<span class="ruby-identifier">accounting_date</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2005-01-01&#39;</span> }
])
</pre>

<p>Similarly, a simple hash without a statement will generate conditions based
on equality with the SQL AND operator. For instance:</p>

<pre class="ruby"><span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Harvey&quot;</span>, :<span class="ruby-identifier">status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
<span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[:<span class="ruby-identifier">student</span>])
</pre>

<p>A range may be used in the hash to use the SQL BETWEEN operator:</p>

<pre class="ruby"><span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">grade</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span><span class="ruby-operator">..</span><span class="ruby-value">12</span> })
</pre>

<p>An array may be used in the hash to use the SQL IN operator:</p>

<pre class="ruby"><span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">grade</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">9</span>,<span class="ruby-value">11</span>,<span class="ruby-value">12</span>] })
</pre>

<h2 id="label-Overwriting+default+accessors">Overwriting default accessors</h2>

<p>All column values are automatically available through basic accessors on
the Active Record object, but sometimes you want to specialize this
behavior. This can be done by overwriting the default accessors (using the
same name as the attribute) and calling
<code>read_attribute(attr_name)</code> and <code>write_attribute(attr_name,
value)</code> to actually change things. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Song</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-comment"># Uses an integer of seconds to hold the length of the song</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">length=</span>(<span class="ruby-identifier">minutes</span>)
    <span class="ruby-identifier">write_attribute</span>(:<span class="ruby-identifier">length</span>, <span class="ruby-identifier">minutes</span>.<span class="ruby-identifier">to_i</span> * <span class="ruby-value">60</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">length</span>
    <span class="ruby-identifier">read_attribute</span>(:<span class="ruby-identifier">length</span>) <span class="ruby-operator">/</span> <span class="ruby-value">60</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>You can alternatively use <code>self[:attribute]=(value)</code> and
<code>self[:attribute]</code> instead of <code>write_attribute(:attribute,
value)</code> and <code>read_attribute(:attribute)</code> as a shorter
form.</p>

<h2 id="label-Attribute+query+methods">Attribute query methods</h2>

<p>In addition to the basic accessors, query methods are also automatically
available on the Active Record object. Query methods allow you to test
whether an attribute value is present.</p>

<p>For example, an Active Record User with the <code>name</code> attribute has
a <code>name?</code> method that you can call to determine whether the user
has a name:</p>

<pre class="ruby"><span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>)
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">name?</span> <span class="ruby-comment"># =&gt; true</span>

<span class="ruby-identifier">anonymous</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-identifier">anonymous</span>.<span class="ruby-identifier">name?</span> <span class="ruby-comment"># =&gt; false</span>
</pre>

<h2 id="label-Accessing+attributes+before+they+have+been+typecasted">Accessing attributes before they have been typecasted</h2>

<p>Sometimes you want to be able to read the raw attribute data without having
the column-determined typecast run its course first. That can be done by
using the <code>&lt;attribute&gt;_before_type_cast</code> accessors that
all attributes have. For example, if your Account model has a
<code>balance</code> attribute, you can call
<code>account.balance_before_type_cast</code> or
<code>account.id_before_type_cast</code>.</p>

<p>This is especially useful in validation situations where the user might
supply a string for an integer field and you want to display the original
string back in an error message. Accessing the attribute normally would
typecast the string to 0, which isn&#39;t what you want.</p>

<h2 id="label-Dynamic+attribute-based+finders">Dynamic attribute-based finders</h2>

<p>Dynamic attribute-based finders are a cleaner way of getting (and/or
creating) objects by simple queries without turning to SQL. They work by
appending the name of an attribute to <code>find_by_</code>,
<code>find_last_by_</code>, or <code>find_all_by_</code>, so you get
finders like <code>Person.find_by_user_name</code>,
<code>Person.find_all_by_last_name</code>, and
<code>Payment.find_by_transaction_id</code>. So instead of writing
<code>Person.find(:first, :conditions =&gt; [&quot;user_name = ?&quot;,
user_name])</code>, you just do
<code>Person.find_by_user_name(user_name)</code>. And instead of writing
<code>Person.find(:all, :conditions =&gt; [&quot;last_name = ?&quot;,
last_name])</code>, you just do
<code>Person.find_all_by_last_name(last_name)</code>.</p>

<p>It&#39;s also possible to use multiple attributes in the same find by
separating them with “<em>and</em>”, so you get finders like
<code>Person.find_by_user_name_and_password</code> or even
<code>Payment.find_by_purchaser_and_state_and_country</code>. So instead of
writing <code>Person.find(:first, :conditions =&gt; [&quot;user_name = ?
AND password = ?&quot;, user_name, password])</code>, you just do
<code>Person.find_by_user_name_and_password(user_name, password)</code>.</p>

<p>It&#39;s even possible to use all the additional parameters to find. For
example, the full interface for <code>Payment.find_all_by_amount</code> is
actually <code>Payment.find_all_by_amount(amount, options)</code>. And the
full interface to <code>Person.find_by_user_name</code> is actually
<code>Person.find_by_user_name(user_name, options)</code>. So you could
call <code>Payment.find_all_by_amount(50, :order =&gt;
&quot;created_on&quot;)</code>. Also you may call
<code>Payment.find_last_by_amount(amount, options)</code> returning the
last record matching that amount and options.</p>

<p>The same dynamic finder style can be used to create the object if it
doesn&#39;t already exist. This dynamic finder is called with
<code>find_or_create_by_</code> and will return the object if it already
exists and otherwise creates it, then returns it. Protected attributes
won&#39;t be set unless they are given in a block. For example:</p>

<pre class="ruby"><span class="ruby-comment"># No &#39;Summer&#39; tag exists</span>
<span class="ruby-constant">Tag</span>.<span class="ruby-identifier">find_or_create_by_name</span>(<span class="ruby-string">&quot;Summer&quot;</span>) <span class="ruby-comment"># equal to Tag.create(:name =&gt; &quot;Summer&quot;)</span>

<span class="ruby-comment"># Now the &#39;Summer&#39; tag does exist</span>
<span class="ruby-constant">Tag</span>.<span class="ruby-identifier">find_or_create_by_name</span>(<span class="ruby-string">&quot;Summer&quot;</span>) <span class="ruby-comment"># equal to Tag.find_by_name(&quot;Summer&quot;)</span>

<span class="ruby-comment"># Now &#39;Bob&#39; exist and is an &#39;admin&#39;</span>
<span class="ruby-constant">User</span>.<span class="ruby-identifier">find_or_create_by_name</span>(<span class="ruby-string">&#39;Bob&#39;</span>, :<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">40</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">u</span><span class="ruby-operator">|</span> <span class="ruby-identifier">u</span>.<span class="ruby-identifier">admin</span> = <span class="ruby-keyword">true</span> }
</pre>

<p>Use the <code>find_or_initialize_by_</code> finder if you want to return a
new record without saving it first. Protected attributes won&#39;t be set
unless they are given in a block. For example:</p>

<pre># No &#39;Winter&#39; tag exists
winter = Tag.find_or_initialize_by_name(&quot;Winter&quot;)
winter.new_record? # true</pre>

<p>To find by a subset of the attributes to be used for instantiating a new
object, pass a hash instead of a list of parameters. For example:</p>

<pre class="ruby"><span class="ruby-constant">Tag</span>.<span class="ruby-identifier">find_or_create_by_name</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;rails&quot;</span>, :<span class="ruby-identifier">creator</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_user</span>)
</pre>

<p>That will either find an existing tag named “rails”, or create a new one
while setting the user that created it.</p>

<h2 id="label-Saving+arrays%2C+hashes%2C+and+other+non-mappable+objects+in+text+columns">Saving arrays, hashes, and other non-mappable objects in text columns</h2>

<p>Active Record can serialize any object in text columns using YAML. To do
so, you must specify this with a call to the class method
<code>serialize</code>. This makes it possible to store arrays, hashes, and
other non-mappable objects without doing any additional work. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">serialize</span> :<span class="ruby-identifier">preferences</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">preferences</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;background&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;black&quot;</span>, <span class="ruby-string">&quot;display&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">large</span> })
<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">preferences</span> <span class="ruby-comment"># =&gt; { &quot;background&quot; =&gt; &quot;black&quot;, &quot;display&quot; =&gt; large }</span>
</pre>

<p>You can also specify a class option as the second parameter that&#39;ll
raise an exception if a serialized object is retrieved as a descendant of a
class not in the hierarchy. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">serialize</span> :<span class="ruby-identifier">preferences</span>, <span class="ruby-constant">Hash</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">preferences</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w( one two three )</span>)
<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">preferences</span>    <span class="ruby-comment"># raises SerializationTypeMismatch</span>
</pre>

<h2 id="label-Single+table+inheritance">Single table inheritance</h2>

<p>Active Record allows inheritance by storing the name of the class in a
column that by default is named “type” (can be changed by overwriting
<code>Base.inheritance_column</code>). This means that an inheritance
looking like this:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Company</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>; <span class="ruby-keyword">end</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">Firm</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Company</span>; <span class="ruby-keyword">end</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">Client</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Company</span>; <span class="ruby-keyword">end</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">PriorityClient</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Client</span>; <span class="ruby-keyword">end</span>
</pre>

<p>When you do <code>Firm.create(:name =&gt; &quot;37signals&quot;)</code>,
this record will be saved in the companies table with type = “Firm”. You
can then fetch this row again using <code>Company.find(:first, &quot;name =
&#39;37signals&#39;&quot;)</code> and it will return a Firm object.</p>

<p>If you don&#39;t have a type column defined in your table, single-table
inheritance won&#39;t be triggered. In that case, it&#39;ll work just like
normal subclasses with no special magic for differentiating between them or
reloading the right type with find.</p>

<p>Note, all the attributes for all the cases are kept in the same table. Read
more: <a
href="http://www.martinfowler.com/eaaCatalog/singleTableInheritance.html">www.martinfowler.com/eaaCatalog/singleTableInheritance.html</a></p>

<h2 id="label-Connection+to+multiple+databases+in+different+models">Connection to multiple databases in different models</h2>

<p>Connections are usually created through <a
href="Base.html#method-c-establish_connection">::establish_connection</a>
and retrieved by <a href="Base.html#method-i-connection">#connection</a>.
All classes inheriting from <a href="Base.html">ActiveRecord::Base</a> will
use this connection. But you can also set a class-specific connection. For
example, if Course is an <a href="Base.html">ActiveRecord::Base</a>, but
resides in a different database, you can just say
<code>Course.establish_connection</code> and Course and all of its
subclasses will use this connection instead.</p>

<p>This feature is implemented by keeping a connection pool in <a
href="Base.html">ActiveRecord::Base</a> that is a <a
href="../Hash.html">Hash</a> indexed by the class. If a connection is
requested, the <a
href="Base.html#method-c-retrieve_connection">::retrieve_connection</a>
method will go up the class-hierarchy until a connection is found in the
connection pool.</p>

<h2 id="label-Exceptions">Exceptions</h2>
<ul><li>
<p><a href="ActiveRecordError.html">ActiveRecordError</a> - Generic error
class and superclass of all other errors raised by Active Record.</p>
</li><li>
<p><a href="AdapterNotSpecified.html">AdapterNotSpecified</a> - The
configuration hash used in <code>establish_connection</code> didn&#39;t
include an <code>:adapter</code> key.</p>
</li><li>
<p><a href="AdapterNotFound.html">AdapterNotFound</a> - The
<code>:adapter</code> key used in <code>establish_connection</code>
specified a non-existent adapter (or a bad spelling of an existing one).</p>
</li><li>
<p><a href="AssociationTypeMismatch.html">AssociationTypeMismatch</a> - The
object assigned to the association wasn&#39;t of the type specified in the
association definition.</p>
</li><li>
<p><a href="SerializationTypeMismatch.html">SerializationTypeMismatch</a> -
The serialized object wasn&#39;t of the class specified as the second
parameter.</p>
</li><li>
<p>ConnectionNotEstablished+ - No connection has been established. Use
<code>establish_connection</code> before querying.</p>
</li><li>
<p><a href="RecordNotFound.html">RecordNotFound</a> - No record responded to
the <code>find</code> method. Either the row with the given ID doesn&#39;t
exist or the row didn&#39;t meet the additional restrictions. Some
<code>find</code> calls do not raise this exception to signal nothing was
found, please check its documentation for further details.</p>
</li><li>
<p><a href="StatementInvalid.html">StatementInvalid</a> - The database server
rejected the SQL statement. The precise error is added in the message.</p>
</li><li>
<p><a
href="MultiparameterAssignmentErrors.html">MultiparameterAssignmentErrors</a>
- Collection of errors that occurred during a mass assignment using the
<code>attributes=</code> method. The <code>errors</code> property of this
exception contains an array of <a
href="AttributeAssignmentError.html">AttributeAssignmentError</a> objects
that should be inspected to determine which attributes triggered the
errors.</p>
</li><li>
<p><a href="AttributeAssignmentError.html">AttributeAssignmentError</a> - An
error occurred while doing a mass assignment through the
<code>attributes=</code> method. You can inspect the <code>attribute</code>
property of the exception object to determine which attribute triggered the
error.</p>
</li></ul>

<p><strong>Note</strong>: The attributes listed are class-level attributes
(accessible from both the class and instance level). So it&#39;s possible
to assign a logger to the class through <code>Base.logger=</code> which
will then be used by all instances in the current object space.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>,
              </li>
            
              
              <li>
                <a href="#method-c-3D-3D-3D">===</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D-3D">[]=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-abstract_class-3F">abstract_class?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-aggregate_mapping">aggregate_mapping</a>,
              </li>
            
              
              <li>
                <a href="#method-c-all">all</a>,
              </li>
            
              
              <li>
                <a href="#method-c-allow_concurrency">allow_concurrency</a>,
              </li>
            
              
              <li>
                <a href="#method-c-allow_concurrency-3D">allow_concurrency=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-attr_accessible">attr_accessible</a>,
              </li>
            
              
              <li>
                <a href="#method-c-attr_protected">attr_protected</a>,
              </li>
            
              
              <li>
                <a href="#method-c-attr_readonly">attr_readonly</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attribute_for_inspect">attribute_for_inspect</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attribute_names">attribute_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attribute_present-3F">attribute_present?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attributes">attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attributes-3D">attributes=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attributes_before_type_cast">attributes_before_type_cast</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-base_class">base_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-becomes">becomes</a>,
              </li>
            
              
              <li>
                <a href="#method-c-benchmark">benchmark</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-cache_key">cache_key</a>,
              </li>
            
              
              <li>
                <a href="#method-c-class_of_active_record_descendant">class_of_active_record_descendant</a>,
              </li>
            
              
              <li>
                <a href="#method-i-clone">clone</a>,
              </li>
            
              
              <li>
                <a href="#method-c-colorize_logging">colorize_logging</a>,
              </li>
            
              
              <li>
                <a href="#method-i-column_for_attribute">column_for_attribute</a>,
              </li>
            
              
              <li>
                <a href="#method-c-column_names">column_names</a>,
              </li>
            
              
              <li>
                <a href="#method-c-columns">columns</a>,
              </li>
            
              
              <li>
                <a href="#method-c-columns_hash">columns_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-compute_type">compute_type</a>,
              </li>
            
              
              <li>
                <a href="#method-c-configurations">configurations</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connected-3F">connected?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connection">connection</a>,
              </li>
            
              
              <li>
                <a href="#method-i-connection">connection</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connection_handler">connection_handler</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connection_pool">connection_pool</a>,
              </li>
            
              
              <li>
                <a href="#method-c-content_columns">content_columns</a>,
              </li>
            
              
              <li>
                <a href="#method-c-count_by_sql">count_by_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-c-create">create</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-decrement">decrement</a>,
              </li>
            
              
              <li>
                <a href="#method-i-decrement-21">decrement!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-decrement_counter">decrement_counter</a>,
              </li>
            
              
              <li>
                <a href="#method-c-default_scope">default_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-c-default_timezone">default_timezone</a>,
              </li>
            
              
              <li>
                <a href="#method-c-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-i-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-c-delete_all">delete_all</a>,
              </li>
            
              
              <li>
                <a href="#method-c-descends_from_active_record-3F">descends_from_active_record?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-destroy">destroy</a>,
              </li>
            
              
              <li>
                <a href="#method-c-destroy">destroy</a>,
              </li>
            
              
              <li>
                <a href="#method-c-destroy_all">destroy_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-destroyed-3F">destroyed?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-establish_connection">establish_connection</a>,
              </li>
            
              
              <li>
                <a href="#method-c-exists-3F">exists?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-expand_hash_conditions_for_aggregates">expand_hash_conditions_for_aggregates</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-find">find</a>,
              </li>
            
              
              <li>
                <a href="#method-c-find_by_sql">find_by_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-c-first">first</a>,
              </li>
            
              
              <li>
                <a href="#method-i-freeze">freeze</a>,
              </li>
            
              
              <li>
                <a href="#method-i-frozen-3F">frozen?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-has_attribute-3F">has_attribute?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hash">hash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-human_attribute_name">human_attribute_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-human_name">human_name</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-id">id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-id-3D">id=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-increment">increment</a>,
              </li>
            
              
              <li>
                <a href="#method-i-increment-21">increment!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-increment_counter">increment_counter</a>,
              </li>
            
              
              <li>
                <a href="#method-c-inheritance_column">inheritance_column</a>,
              </li>
            
              
              <li>
                <a href="#method-c-inheritance_column-3D">inheritance_column=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inspect">inspect</a>,
              </li>
            
              
              <li>
                <a href="#method-c-inspect">inspect</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-last">last</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-merge_conditions">merge_conditions</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-new_record-3F">new_record?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-pluralize_table_names">pluralize_table_names</a>,
              </li>
            
              
              <li>
                <a href="#method-c-primary_key">primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-c-primary_key-3D">primary_key=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-primary_key_prefix_type">primary_key_prefix_type</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-readonly-21">readonly!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-readonly-3F">readonly?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-readonly_attributes">readonly_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reload">reload</a>,
              </li>
            
              
              <li>
                <a href="#method-c-remove_connection">remove_connection</a>,
              </li>
            
              
              <li>
                <a href="#method-c-reset_column_information">reset_column_information</a>,
              </li>
            
              
              <li>
                <a href="#method-c-reset_counters">reset_counters</a>,
              </li>
            
              
              <li>
                <a href="#method-c-respond_to-3F">respond_to?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-retrieve_connection">retrieve_connection</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-sanitize_conditions">sanitize_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql">sanitize_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_array">sanitize_sql_array</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_for_assignment">sanitize_sql_for_assignment</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_for_conditions">sanitize_sql_for_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_hash">sanitize_sql_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_hash_for_assignment">sanitize_sql_hash_for_assignment</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_hash_for_conditions">sanitize_sql_hash_for_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-i-save">save</a>,
              </li>
            
              
              <li>
                <a href="#method-i-save-21">save!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-schema_format">schema_format</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sequence_name-3D">sequence_name=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-serialize">serialize</a>,
              </li>
            
              
              <li>
                <a href="#method-c-serialized_attributes">serialized_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_inheritance_column">set_inheritance_column</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_primary_key">set_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_sequence_name">set_sequence_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_table_name">set_table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-silence">silence</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sti_name">sti_name</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-table_exists-3F">table_exists?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-table_name">table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-table_name-3D">table_name=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-table_name_prefix">table_name_prefix</a>,
              </li>
            
              
              <li>
                <a href="#method-c-table_name_suffix">table_name_suffix</a>,
              </li>
            
              
              <li>
                <a href="#method-c-timestamped_migrations">timestamped_migrations</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_param">to_param</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toggle">toggle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toggle-21">toggle!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-update">update</a>,
              </li>
            
              
              <li>
                <a href="#method-c-update_all">update_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-update_attribute">update_attribute</a>,
              </li>
            
              
              <li>
                <a href="#method-i-update_attributes">update_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-update_attributes-21">update_attributes!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-update_counters">update_counters</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-verification_timeout">verification_timeout</a>,
              </li>
            
              
              <li>
                <a href="#method-c-verification_timeout-3D">verification_timeout=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-with_exclusive_scope">with_exclusive_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-c-with_scope">with_scope</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">VALID_FIND_OPTIONS</td>
            <td>=</td>
            <td class="attr-value">[ :conditions, :include, :joins, :limit, :offset,
:order, :select, :readonly, :group, :having, :from, :lock ]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>abstract_class</td>
            <td class='attr-desc'><p>Set this to true if this is an abstract class (see
<code>abstract_class?</code>).</p></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-3D-3D-3D">
            
              <b>===</b>(object)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-3D-3D-3D" name="method-c-3D-3D-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Overwrite the default class equality method to provide support for
association proxies.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-3D-3D-3D_source')" id="l_method-c-3D-3D-3D_source">show</a>
                
              </p>
              <div id="method-c-3D-3D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1488</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">===</span>(<span class="ruby-keyword ruby-title">object</span>)
  <span class="ruby-identifier">object</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-abstract_class-3F">
            
              <b>abstract_class?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-abstract_class-3F" name="method-c-abstract_class-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns whether this class is a base AR class.  If A is a base class and B
descends from A, then B.base_class will return B.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-abstract_class-3F_source')" id="l_method-c-abstract_class-3F_source">show</a>
                
              </p>
              <div id="method-c-abstract_class-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1504</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">abstract_class?</span>
  <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@abstract_class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@abstract_class</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-all">
            
              <b>all</b>(*args)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-all" name="method-c-all" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>This is an alias for find(:all).  You can pass in all the same arguments to
this method as you can to find(:all)</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-all_source')" id="l_method-c-all_source">show</a>
                
              </p>
              <div id="method-c-all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 638</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">all</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, *<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-allow_concurrency">
            
              <b>allow_concurrency</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-allow_concurrency" name="method-c-allow_concurrency" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deprecated and no longer has any effect.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-allow_concurrency_source')" id="l_method-c-allow_concurrency_source">show</a>
                
              </p>
              <div id="method-c-allow_concurrency_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">allow_concurrency</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&quot;ActiveRecord::Base.allow_concurrency has been deprecated and no longer has any effect. Please remove all references to allow_concurrency.&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-allow_concurrency-3D">
            
              <b>allow_concurrency=</b>(flag)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-allow_concurrency-3D" name="method-c-allow_concurrency-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deprecated and no longer has any effect.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-allow_concurrency-3D_source')" id="l_method-c-allow_concurrency-3D_source">show</a>
                
              </p>
              <div id="method-c-allow_concurrency-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">allow_concurrency=</span>(<span class="ruby-identifier">flag</span>)
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&quot;ActiveRecord::Base.allow_concurrency= has been deprecated and no longer has any effect. Please remove all references to allow_concurrency=.&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-attr_accessible">
            
              <b>attr_accessible</b>(*attributes)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-attr_accessible" name="method-c-attr_accessible" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Specifies a white list of model attributes that can be set via
mass-assignment, such as <code>new(attributes)</code>,
<code>update_attributes(attributes)</code>, or
<code>attributes=(attributes)</code></p>

<p>This is the opposite of the <code>attr_protected</code> macro:
Mass-assignment will only set attributes in this list, to assign to the
rest of attributes you can use direct writer methods. This is meant to
protect sensitive attributes from being overwritten by malicious users
tampering with URLs or forms. If you&#39;d rather start from an all-open
default and restrict attributes as needed, have a look at
<code>attr_protected</code>.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Customer</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">attr_accessible</span> :<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">nickname</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">customer</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>, :<span class="ruby-identifier">nickname</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Dave&quot;</span>, :<span class="ruby-identifier">credit_rating</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Excellent&quot;</span>)
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">attributes</span> = { :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Jolly fellow&quot;</span>, :<span class="ruby-identifier">credit_rating</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Superb&quot;</span> }
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; nil</span>

<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> = <span class="ruby-string">&quot;Average&quot;</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; &quot;Average&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-attr_accessible_source')" id="l_method-c-attr_accessible_source">show</a>
                
              </p>
              <div id="method-c-attr_accessible_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1085</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attr_accessible</span>(*<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_accessible</span>, <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_s</span>)) <span class="ruby-operator">+</span> (<span class="ruby-identifier">accessible_attributes</span> <span class="ruby-operator">||</span> []))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-attr_protected">
            
              <b>attr_protected</b>(*attributes)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-attr_protected" name="method-c-attr_protected" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Attributes named in this macro are protected from mass-assignment, such as
<code>new(attributes)</code>, <code>update_attributes(attributes)</code>,
or <code>attributes=(attributes)</code>.</p>

<p>Mass-assignment to these attributes will simply be ignored, to assign to
them you can use direct writer methods. This is meant to protect sensitive
attributes from being overwritten by malicious users tampering with URLs or
forms.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Customer</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">attr_protected</span> :<span class="ruby-identifier">credit_rating</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">customer</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">David</span>, <span class="ruby-string">&quot;credit_rating&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Excellent&quot;</span>)
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">attributes</span> = { <span class="ruby-string">&quot;description&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Jolly fellow&quot;</span>, <span class="ruby-string">&quot;credit_rating&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Superb&quot;</span> }
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; nil</span>

<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> = <span class="ruby-string">&quot;Average&quot;</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; &quot;Average&quot;</span>
</pre>

<p>To start from an all-closed default and enable attributes as needed, have a
look at <code>attr_accessible</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-attr_protected_source')" id="l_method-c-attr_protected_source">show</a>
                
              </p>
              <div id="method-c-attr_protected_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1052</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attr_protected</span>(*<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_protected</span>, <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_s</span>)) <span class="ruby-operator">+</span> (<span class="ruby-identifier">protected_attributes</span> <span class="ruby-operator">||</span> []))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-attr_readonly">
            
              <b>attr_readonly</b>(*attributes)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-attr_readonly" name="method-c-attr_readonly" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Attributes listed as readonly can be set for a new record, but will be
ignored in database updates afterwards.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-attr_readonly_source')" id="l_method-c-attr_readonly_source">show</a>
                
              </p>
              <div id="method-c-attr_readonly_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1095</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attr_readonly</span>(*<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_readonly</span>, <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_s</span>)) <span class="ruby-operator">+</span> (<span class="ruby-identifier">readonly_attributes</span> <span class="ruby-operator">||</span> []))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-base_class">
            
              <b>base_class</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-base_class" name="method-c-base_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the base AR subclass that this class descends from. If A extends
AR::Base, A.base_class will return A. If B descends from A through some
arbitrarily deep hierarchy, B.base_class will return A.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-base_class_source')" id="l_method-c-base_class_source">show</a>
                
              </p>
              <div id="method-c-base_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1495</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">base_class</span>
  <span class="ruby-identifier">class_of_active_record_descendant</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-benchmark">
            
              <b>benchmark</b>(title, log_level = Logger::DEBUG, use_silence = true)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-benchmark" name="method-c-benchmark" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Log and benchmark multiple statements in a single block. Example:</p>

<pre class="ruby"><span class="ruby-constant">Project</span>.<span class="ruby-identifier">benchmark</span>(<span class="ruby-string">&quot;Creating project&quot;</span>) <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>)
  <span class="ruby-identifier">project</span>.<span class="ruby-identifier">create_manager</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>)
  <span class="ruby-identifier">project</span>.<span class="ruby-identifier">milestones</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Milestone</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>The benchmark is only recorded if the current level of the logger is less
than or equal to the <code>log_level</code>, which makes it easy to include
benchmarking statements in production software that will remain inexpensive
because the benchmark will only be conducted if the log level is low
enough.</p>

<p>The logging of the multiple statements is turned off unless
<code>use_silence</code> is set to false.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-benchmark_source')" id="l_method-c-benchmark_source">show</a>
                
              </p>
              <div id="method-c-benchmark_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1468</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">benchmark</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">log_level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">DEBUG</span>, <span class="ruby-identifier">use_silence</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">logger</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">log_level</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">ms</span> = <span class="ruby-constant">Benchmark</span>.<span class="ruby-identifier">ms</span> { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">use_silence</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">silence</span> { <span class="ruby-keyword">yield</span> } <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span> }
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">log_level</span>, <span class="ruby-string">&#39;%s (%.1fms)&#39;</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">title</span>, <span class="ruby-identifier">ms</span>])
    <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-colorize_logging">
            
              <b>colorize_logging</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-colorize_logging" name="method-c-colorize_logging" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Determines whether to use ANSI codes to colorize the logging statements
committed by the connection adapter. These colors make it much easier to
overview things during debugging (when used through a reader like
<code>tail</code> and on a black background), but may complicate matters if
you use software like syslog. This is true, by default.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-colorize_logging_source')" id="l_method-c-colorize_logging_source">show</a>
                
              </p>
              <div id="method-c-colorize_logging_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 491</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:colorize_logging</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-column_names">
            
              <b>column_names</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-column_names" name="method-c-column_names" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of column names as strings.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-column_names_source')" id="l_method-c-column_names_source">show</a>
                
              </p>
              <div id="method-c-column_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1317</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">column_names</span>
  <span class="ruby-ivar">@column_names</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-columns">
            
              <b>columns</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-columns" name="method-c-columns" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of column objects for the table associated with this
class.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-columns_source')" id="l_method-c-columns_source">show</a>
                
              </p>
              <div id="method-c-columns_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1303</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">columns</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@columns</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@columns</span>
    <span class="ruby-ivar">@columns</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">columns</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-node">&quot;#{name} Columns&quot;</span>)
    <span class="ruby-ivar">@columns</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">primary</span> = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">primary_key</span> }
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@columns</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-columns_hash">
            
              <b>columns_hash</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-columns_hash" name="method-c-columns_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a hash of column objects for the table associated with this class.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-columns_hash_source')" id="l_method-c-columns_hash_source">show</a>
                
              </p>
              <div id="method-c-columns_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1312</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">columns_hash</span>
  <span class="ruby-ivar">@columns_hash</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">inject</span>({}) { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">column</span>; <span class="ruby-identifier">hash</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-configurations">
            
              <b>configurations</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-configurations" name="method-c-configurations" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Contains the database configuration - as is typically stored in
config/database.yml - as a <a href="../Hash.html">Hash</a>.</p>

<p>For example, the following database.yml…</p>

<pre>development:
  adapter: sqlite3
  database: db/development.sqlite3

production:
  adapter: sqlite3
  database: db/production.sqlite3</pre>

<p>…would result in <a
href="Base.html#method-c-configurations">::configurations</a> to look like
this:</p>

<pre class="ruby">{
   <span class="ruby-string">&#39;development&#39;</span> =<span class="ruby-operator">&gt;</span> {
      <span class="ruby-string">&#39;adapter&#39;</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sqlite3&#39;</span>,
      <span class="ruby-string">&#39;database&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;db/development.sqlite3&#39;</span>
   },
   <span class="ruby-string">&#39;production&#39;</span> =<span class="ruby-operator">&gt;</span> {
      <span class="ruby-string">&#39;adapter&#39;</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sqlite3&#39;</span>,
      <span class="ruby-string">&#39;database&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;db/production.sqlite3&#39;</span>
   }
}
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-configurations_source')" id="l_method-c-configurations_source">show</a>
                
              </p>
              <div id="method-c-configurations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 448</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:configurations</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connected-3F">
            
              <b>connected?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-connected-3F" name="method-c-connected-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if <code>ActiveRecord</code> is connected.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-connected-3F_source')" id="l_method-c-connected-3F_source">show</a>
                
              </p>
              <div id="method-c-connected-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connected?</span>
  <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">connected?</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connection">
            
              <b>connection</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-connection" name="method-c-connection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the connection currently associated with the class. This can also
be used to “borrow” the connection to do database work unrelated to any of
the specific Active Records.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-connection_source')" id="l_method-c-connection_source">show</a>
                
              </p>
              <div id="method-c-connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connection</span>
  <span class="ruby-identifier">retrieve_connection</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connection_handler">
            
              <b>connection_handler</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-connection_handler" name="method-c-connection_handler" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>The connection handler</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-connection_handler_source')" id="l_method-c-connection_handler_source">show</a>
                
              </p>
              <div id="method-c-connection_handler_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 13</span>
<span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:connection_handler</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connection_pool">
            
              <b>connection_pool</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-connection_pool" name="method-c-connection_pool" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-connection_pool_source')" id="l_method-c-connection_pool_source">show</a>
                
              </p>
              <div id="method-c-connection_pool_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connection_pool</span>
  <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">retrieve_connection_pool</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-content_columns">
            
              <b>content_columns</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-content_columns" name="method-c-content_columns" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of column objects where the primary id, all columns ending
in “_id” or “_count”, and columns used for single table inheritance have
been removed.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-content_columns_source')" id="l_method-c-content_columns_source">show</a>
                
              </p>
              <div id="method-c-content_columns_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1323</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">content_columns</span>
  <span class="ruby-ivar">@content_columns</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">primary</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/(_id|_count)$/</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">inheritance_column</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-count_by_sql">
            
              <b>count_by_sql</b>(sql)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-count_by_sql" name="method-c-count_by_sql" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the result of an SQL statement that should only include a COUNT(*)
in the SELECT part. The use of this method should be restricted to
complicated SQL queries that can&#39;t be executed using the <a
href="Calculations.html">ActiveRecord::Calculations</a> class methods. 
Look into those before using this.</p>

<h4 id="method-c-count_by_sql-label-Parameters">Parameters</h4>
<ul><li>
<p><code>sql</code> - An SQL statement which should return a count query from
the database, see the example below.</p>
</li></ul>

<h4 id="method-c-count_by_sql-label-Examples">Examples</h4>

<pre>Product.count_by_sql &quot;SELECT COUNT(*) FROM sales s, customers c WHERE s.customer_id = c.id&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-count_by_sql_source')" id="l_method-c-count_by_sql_source">show</a>
                
              </p>
              <div id="method-c-count_by_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 918</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">count_by_sql</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-identifier">sql</span> = <span class="ruby-identifier">sanitize_conditions</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">select_value</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-node">&quot;#{name} Count&quot;</span>).<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-create">
            
              <b>create</b>(attributes = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-create" name="method-c-create" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Creates an object (or multiple objects) and saves it to the database, if
validations pass. The resulting object is returned whether the object was
saved successfully to the database or not.</p>

<p>The <code>attributes</code> parameter can be either be a <a
href="../Hash.html">Hash</a> or an Array of Hashes.  These Hashes describe
the attributes on the objects that are to be created.</p>

<h4 id="method-c-create-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-comment"># Create a single new object</span>
<span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Jamie&#39;</span>)

<span class="ruby-comment"># Create an Array of new objects</span>
<span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>([{ :<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Jamie&#39;</span> }, { :<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Jeremy&#39;</span> }])

<span class="ruby-comment"># Create a single object and pass it into a block to set other attributes.</span>
<span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Jamie&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">u</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">u</span>.<span class="ruby-identifier">is_admin</span> = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># Creating an Array of new objects using a block, where the block is executed for each object:</span>
<span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>([{ :<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Jamie&#39;</span> }, { :<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Jeremy&#39;</span> }]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">u</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">u</span>.<span class="ruby-identifier">is_admin</span> = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-create_source')" id="l_method-c-create_source">show</a>
                
              </p>
              <div id="method-c-create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 721</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">create</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">attr</span>, &amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">object</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>)
    <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">object</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">object</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-decrement_counter">
            
              <b>decrement_counter</b>(counter_name, id)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-decrement_counter" name="method-c-decrement_counter" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Decrement a number field by one, usually representing a count.</p>

<p>This works the same as <a
href="Base.html#method-c-increment_counter">::increment_counter</a> but
reduces the column value by 1 instead of increasing it.</p>

<h4 id="method-c-decrement_counter-label-Parameters">Parameters</h4>
<ul><li>
<p><code>counter_name</code> - The name of the field that should be
decremented.</p>
</li><li>
<p><code>id</code> - The id of the object that should be decremented.</p>
</li></ul>

<h4 id="method-c-decrement_counter-label-Examples">Examples</h4>

<pre># Decrement the post_count column for the record with an id of 5
DiscussionBoard.decrement_counter(:post_count, 5)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-decrement_counter_source')" id="l_method-c-decrement_counter_source">show</a>
                
              </p>
              <div id="method-c-decrement_counter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1024</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">decrement_counter</span>(<span class="ruby-identifier">counter_name</span>, <span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">update_counters</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">counter_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">-1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-default_timezone">
            
              <b>default_timezone</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-default_timezone" name="method-c-default_timezone" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Determines whether to use Time.local (using :local) or Time.utc (using
:utc) when pulling dates and times from the database. This is set to :local
by default.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-default_timezone_source')" id="l_method-c-default_timezone_source">show</a>
                
              </p>
              <div id="method-c-default_timezone_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 498</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:default_timezone</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-delete">
            
              <b>delete</b>(id)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-delete" name="method-c-delete" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes the row with a primary key matching the <code>id</code> argument,
using a SQL <code>DELETE</code> statement, and returns the number of rows
deleted. Active Record objects are not instantiated, so the object&#39;s
callbacks are not executed, including any <code>:dependent</code>
association options or <a href="Observer.html">Observer</a> methods.</p>

<p>You can delete multiple rows at once by passing an Array of
<code>id</code>s.</p>

<p>Note: Although it is often much faster than the alternative,
<code>#destroy</code>, skipping callbacks might bypass business logic in
your application that ensures referential integrity or performs other
essential jobs.</p>

<h4 id="method-c-delete-label-Examples">Examples</h4>

<pre># Delete a single row
Todo.delete(1)

# Delete multiple rows
Todo.delete([2,3,4])</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-delete_source')" id="l_method-c-delete_source">show</a>
                
              </p>
              <div id="method-c-delete_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 779</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">delete</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">delete_all</span>([ <span class="ruby-node">&quot;#{connection.quote_column_name(primary_key)} IN (?)&quot;</span>, <span class="ruby-identifier">id</span> ])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-delete_all">
            
              <b>delete_all</b>(conditions = nil)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-delete_all" name="method-c-delete_all" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes the records matching <code>conditions</code> without instantiating
the records first, and hence not calling the <code>destroy</code> method
nor invoking callbacks. This is a single SQL DELETE statement that goes
straight to the database, much more efficient than
<code>destroy_all</code>. Be careful with relations though, in particular
<code>:dependent</code> rules defined on associations are not honored. 
Returns the number of rows affected.</p>

<h4 id="method-c-delete_all-label-Parameters">Parameters</h4>
<ul><li>
<p><code>conditions</code> - Conditions are specified the same way as with
<code>find</code> method.</p>
</li></ul>

<h4 id="method-c-delete_all-label-Example">Example</h4>

<pre>Post.delete_all(&quot;person_id = 5 AND (category = &#39;Something&#39; OR category = &#39;Else&#39;)&quot;)
Post.delete_all([&quot;person_id = ? AND (category = ? OR category = ?)&quot;, 5, &#39;Something&#39;, &#39;Else&#39;])</pre>

<p>Both calls delete the affected posts all at once with a single DELETE
statement. If you need to destroy dependent associations or call your
<code>before_*</code> or <code>after_destroy</code> callbacks, use the
<code>destroy_all</code> method instead.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-delete_all_source')" id="l_method-c-delete_all_source">show</a>
                
              </p>
              <div id="method-c-delete_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 901</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">delete_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">sql</span> = <span class="ruby-node">&quot;DELETE FROM #{quoted_table_name} &quot;</span>
  <span class="ruby-identifier">add_conditions!</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">conditions</span>, <span class="ruby-identifier">scope</span>(<span class="ruby-value">:find</span>))
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-node">&quot;#{name} Delete all&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-descends_from_active_record-3F">
            
              <b>descends_from_active_record?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-descends_from_active_record-3F" name="method-c-descends_from_active_record-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>True if this isn&#39;t a concrete subclass needing a STI type condition.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-descends_from_active_record-3F_source')" id="l_method-c-descends_from_active_record-3F_source">show</a>
                
              </p>
              <div id="method-c-descends_from_active_record-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1419</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">descends_from_active_record?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">abstract_class?</span>
    <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">descends_from_active_record?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">superclass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">columns_hash</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">inheritance_column</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-destroy">
            
              <b>destroy</b>(id)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-destroy" name="method-c-destroy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Destroy an object (or multiple objects) that has the given id, the object
is instantiated first, therefore all callbacks and filters are fired off
before the object is deleted.  This method is less efficient than
ActiveRecord#delete but allows cleanup methods and other actions to be run.</p>

<p>This essentially finds the object (or multiple objects) with the given id,
creates a new object from the attributes, and then calls destroy on it.</p>

<h4 id="method-c-destroy-label-Parameters">Parameters</h4>
<ul><li>
<p><code>id</code> - Can be either an Integer or an Array of Integers.</p>
</li></ul>

<h4 id="method-c-destroy-label-Examples">Examples</h4>

<pre># Destroy a single object
Todo.destroy(1)

# Destroy multiple objects
todos = [1,2,3]
Todo.destroy(todos)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-destroy_source')" id="l_method-c-destroy_source">show</a>
                
              </p>
              <div id="method-c-destroy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 802</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">destroy</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-identifier">id</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">one_id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">one_id</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>).<span class="ruby-identifier">destroy</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-destroy_all">
            
              <b>destroy_all</b>(conditions = nil)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-destroy_all" name="method-c-destroy_all" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Destroys the records matching <code>conditions</code> by instantiating each
record and calling its <code>destroy</code> method. Each object&#39;s
callbacks are executed (including <code>:dependent</code> association
options and <code>before_destroy</code>/<code>after_destroy</code> <a
href="Observer.html">Observer</a> methods). Returns the collection of
objects that were destroyed; each will be frozen, to reflect that no
changes should be made (since they can&#39;t be persisted).</p>

<p>Note: Instantiation, callback execution, and deletion of each record can be
time consuming when you&#39;re removing many records at once. It generates
at least one SQL <code>DELETE</code> query per record (or possibly more, to
enforce your callbacks). If you want to delete many rows quickly, without
concern for their associations or callbacks, use <code>delete_all</code>
instead.</p>

<h4 id="method-c-destroy_all-label-Parameters">Parameters</h4>
<ul><li>
<p><code>conditions</code> - A string, array, or hash that specifies which
records to destroy. If omitted, all records are destroyed. See the
Conditions section in the introduction to <a
href="Base.html">ActiveRecord::Base</a> for more information.</p>
</li></ul>

<h4 id="method-c-destroy_all-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">destroy_all</span>(<span class="ruby-string">&quot;last_login &lt; &#39;2004-04-04&#39;&quot;</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">destroy_all</span>(:<span class="ruby-identifier">status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;inactive&quot;</span>)
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-destroy_all_source')" id="l_method-c-destroy_all_source">show</a>
                
              </p>
              <div id="method-c-destroy_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 880</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">destroy_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">destroy</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-establish_connection">
            
              <b>establish_connection</b>(spec = nil)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-establish_connection" name="method-c-establish_connection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Establishes the connection to the database. Accepts a hash as input where
the <code>:adapter</code> key must be specified with the name of a database
adapter (in lower-case) example for regular databases (MySQL, Postgresql,
etc):</p>

<pre class="ruby"><span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(
  :<span class="ruby-identifier">adapter</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;mysql&quot;</span>,
  :<span class="ruby-identifier">host</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;localhost&quot;</span>,
  :<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;myuser&quot;</span>,
  :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;mypass&quot;</span>,
  :<span class="ruby-identifier">database</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;somedatabase&quot;</span>
)
</pre>

<p>Example for SQLite database:</p>

<pre class="ruby"><span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(
  :<span class="ruby-identifier">adapter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;sqlite&quot;</span>,
  :<span class="ruby-identifier">database</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;path/to/dbfile&quot;</span>
)
</pre>

<p>Also accepts keys as strings (for parsing from YAML for example):</p>

<pre class="ruby"><span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(
  <span class="ruby-string">&quot;adapter&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;sqlite&quot;</span>,
  <span class="ruby-string">&quot;database&quot;</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;path/to/dbfile&quot;</span>
)
</pre>

<p>The exceptions <a href="AdapterNotSpecified.html">AdapterNotSpecified</a>,
<a href="AdapterNotFound.html">AdapterNotFound</a> and ArgumentError may be
returned on an error.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-establish_connection_source')" id="l_method-c-establish_connection_source">show</a>
                
              </p>
              <div id="method-c-establish_connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 51</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">spec</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">spec</span>
    <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span> <span class="ruby-constant">RAILS_ENV</span>
      <span class="ruby-identifier">establish_connection</span>(<span class="ruby-constant">RAILS_ENV</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">ConnectionSpecification</span>
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">spec</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-constant">String</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">configurations</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_s</span>]
        <span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">configuration</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span>, <span class="ruby-node">&quot;#{spec} database is not configured&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">symbolize_keys</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:adapter</span>) <span class="ruby-keyword">then</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span>, <span class="ruby-string">&quot;database configuration does not specify adapter&quot;</span> <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rubygems&#39;</span>
        <span class="ruby-identifier">gem</span> <span class="ruby-node">&quot;activerecord-#{spec[:adapter]}-adapter&quot;</span>
        <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;active_record/connection_adapters/#{spec[:adapter]}_adapter&quot;</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
        <span class="ruby-keyword">begin</span>
          <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;active_record/connection_adapters/#{spec[:adapter]}_adapter&quot;</span>
        <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Please install the #{spec[:adapter]} adapter: `gem install activerecord-#{spec[:adapter]}-adapter` (#{$!})&quot;</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">adapter_method</span> = <span class="ruby-node">&quot;#{spec[:adapter]}_connection&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">adapter_method</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotFound</span>, <span class="ruby-node">&quot;database configuration specifies nonexistent #{spec[:adapter]} adapter&quot;</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">remove_connection</span>
      <span class="ruby-identifier">establish_connection</span>(<span class="ruby-constant">ConnectionSpecification</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">adapter_method</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-exists-3F">
            
              <b>exists?</b>(id_or_conditions = {})
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-exists-3F" name="method-c-exists-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if a record exists in the table that matches the
<code>id</code> or conditions given, or false otherwise. The argument can
take five forms:</p>
<ul><li>
<p>Integer - Finds the record with this primary key.</p>
</li><li>
<p><a href="../String.html">String</a> - Finds the record with a primary key
corresponding to this string (such as <code>&#39;5&#39;</code>).</p>
</li><li>
<p>Array - Finds the record that matches these <code>find</code>-style
conditions (such as <code>[&#39;color = ?&#39;, &#39;red&#39;]</code>).</p>
</li><li>
<p><a href="../Hash.html">Hash</a> - Finds the record that matches these
<code>find</code>-style conditions (such as <code>{:color =&gt;
&#39;red&#39;}</code>).</p>
</li><li>
<p>No args - Returns false if the table is empty, true otherwise.</p>
</li></ul>

<p>For more information about specifying conditions as a <a
href="../Hash.html">Hash</a> or Array, see the Conditions section in the
introduction to <a href="Base.html">ActiveRecord::Base</a>.</p>

<p>Note: You can&#39;t pass in a condition as a string (like <code>name =
&#39;Jamie&#39;</code>), since it would be sanitized and then queried
against the primary key column, like <code>id = &#39;name =
\'Jamie\'&#39;</code>.</p>

<h4 id="method-c-exists-3F-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">5</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-string">&#39;5&#39;</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>([<span class="ruby-string">&#39;name LIKE ?&#39;</span>, <span class="ruby-node">&quot;%#{query}%&quot;</span>])
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-exists-3F_source')" id="l_method-c-exists-3F_source">show</a>
                
              </p>
              <div id="method-c-exists-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 693</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">exists?</span>(<span class="ruby-identifier">id_or_conditions</span> = {})
  <span class="ruby-identifier">find_initial</span>(
    <span class="ruby-value">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{quoted_table_name}.#{primary_key}&quot;</span>,
    <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">expand_id_conditions</span>(<span class="ruby-identifier">id_or_conditions</span>)) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find">
            
              <b>find</b>(*args)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-find" name="method-c-find" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Find operates with four different retrieval approaches:</p>
<ul><li>
<p>Find by id - This can either be a specific id (1), a list of ids (1, 5, 6),
or an array of ids ([5, 6, 10]). If no record can be found for all of the
listed ids, then <a href="RecordNotFound.html">RecordNotFound</a> will be
raised.</p>
</li><li>
<p>Find first - This will return the first record matched by the options used.
These options can either be specific conditions or merely an order. If no
record can be matched, <code>nil</code> is returned. Use
<code>Model.find(:first, *args)</code> or its shortcut
<code>Model.first(*args)</code>.</p>
</li><li>
<p>Find last - This will return the last record matched by the options used.
These options can either be specific conditions or merely an order. If no
record can be matched, <code>nil</code> is returned. Use
<code>Model.find(:last, *args)</code> or its shortcut
<code>Model.last(*args)</code>.</p>
</li><li>
<p>Find all - This will return all the records matched by the options used. If
no records are found, an empty array is returned. Use
<code>Model.find(:all, *args)</code> or its shortcut
<code>Model.all(*args)</code>.</p>
</li></ul>

<p>All approaches accept an options hash as their last parameter.</p>

<h4 id="method-c-find-label-Parameters">Parameters</h4>
<ul><li>
<p><code>:conditions</code> - An SQL fragment like “administrator = 1”,
<code>[ &quot;user_name = ?&quot;, username ]</code>, or
<code>[&quot;user_name = :user_name&quot;, { :user_name =&gt; user_name
}]</code>. See conditions in the intro.</p>
</li><li>
<p><code>:order</code> - An SQL fragment like “created_at DESC, name”.</p>
</li><li>
<p><code>:group</code> - An attribute name by which the result should be
grouped. Uses the <code>GROUP BY</code> SQL-clause.</p>
</li><li>
<p><code>:having</code> - Combined with <code>:group</code> this can be used
to filter the records that a <code>GROUP BY</code> returns. Uses the
<code>HAVING</code> SQL-clause.</p>
</li><li>
<p><code>:limit</code> - An integer determining the limit on the number of
rows that should be returned.</p>
</li><li>
<p><code>:offset</code> - An integer determining the offset from where the
rows should be fetched. So at 5, it would skip rows 0 through 4.</p>
</li><li>
<p><code>:joins</code> - Either an SQL fragment for additional joins like
“LEFT JOIN comments ON comments.post_id = id” (rarely needed), named
associations in the same form used for the <code>:include</code> option,
which will perform an <code>INNER JOIN</code> on the associated table(s),
or an array containing a mixture of both strings and named associations. If
the value is a string, then the records will be returned read-only since
they will have attributes that do not correspond to the table&#39;s
columns. Pass <code>:readonly =&gt; false</code> to override.</p>
</li><li>
<p><code>:include</code> - Names associations that should be loaded alongside.
The symbols named refer to already defined associations. See eager loading
under <a href="Associations.html">Associations</a>.</p>
</li><li>
<p><code>:select</code> - By default, this is “*” as in “SELECT * FROM”, but
can be changed if you, for example, want to do a join but not include the
joined columns. Takes a string with the SELECT SQL fragment (e.g. “id,
name”).</p>
</li><li>
<p><code>:from</code> - By default, this is the table name of the class, but
can be changed to an alternate table name (or even the name of a database
view).</p>
</li><li>
<p><code>:readonly</code> - Mark the returned records read-only so they cannot
be saved or updated.</p>
</li><li>
<p><code>:lock</code> - An SQL fragment like “FOR UPDATE” or “LOCK IN SHARE
MODE”. <code>:lock =&gt; true</code> gives connection&#39;s default
exclusive lock, usually “FOR UPDATE”.</p>
</li></ul>

<h4 id="method-c-find-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-comment"># find by id</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)       <span class="ruby-comment"># returns the object for ID = 1</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">6</span>) <span class="ruby-comment"># returns an array for objects with IDs in (1, 2, 6)</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>([<span class="ruby-value">7</span>, <span class="ruby-value">17</span>]) <span class="ruby-comment"># returns an array for objects with IDs in (7, 17)</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>([<span class="ruby-value">1</span>])     <span class="ruby-comment"># returns an array for the object with ID = 1</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;administrator = 1&quot;</span>, :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;created_on DESC&quot;</span>)
</pre>

<p>Note that returned records may not be in the same order as the ids you
provide since database rows are unordered. Give an explicit
<code>:order</code> to ensure the results are sorted.</p>

<h4 id="method-c-find-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-comment"># find first</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>) <span class="ruby-comment"># returns the first object fetched by SELECT * FROM people</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;user_name = ?&quot;</span>, <span class="ruby-identifier">user_name</span>])
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;user_name = :u&quot;</span>, { :<span class="ruby-identifier">u</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user_name</span> }])
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;created_on DESC&quot;</span>, :<span class="ruby-identifier">offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)

<span class="ruby-comment"># find last</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">last</span>) <span class="ruby-comment"># returns the last object fetched by SELECT * FROM people</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">last</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;user_name = ?&quot;</span>, <span class="ruby-identifier">user_name</span>])
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">last</span>, :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;created_on DESC&quot;</span>, :<span class="ruby-identifier">offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)

<span class="ruby-comment"># find all</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># returns an array of objects for all the rows fetched by SELECT * FROM people</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;category IN (?)&quot;</span>, <span class="ruby-identifier">categories</span>], :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">friends</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;Bob&quot;</span>, <span class="ruby-string">&quot;Steve&quot;</span>, <span class="ruby-string">&quot;Fred&quot;</span>] }
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">include</span> =<span class="ruby-operator">&gt;</span> [ :<span class="ruby-identifier">account</span>, :<span class="ruby-identifier">friends</span> ])
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;category&quot;</span>)
</pre>

<p>Example for find with a lock: Imagine two concurrent transactions: each
will read <code>person.visits == 2</code>, add 1 to it, and save, resulting
in two saves of <code>person.visits = 3</code>.  By locking the row, the
second transaction has to wait until the first is finished; we get the
expected <code>person.visits == 4</code>.</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">transaction</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, :<span class="ruby-identifier">lock</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">person</span>.<span class="ruby-identifier">visits</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">person</span>.<span class="ruby-identifier">save!</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-find_source')" id="l_method-c-find_source">show</a>
                
              </p>
              <div id="method-c-find_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 611</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">find</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
  <span class="ruby-identifier">validate_find_options</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">set_readonly_option!</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:first</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">find_initial</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:last</span>  <span class="ruby-keyword">then</span> <span class="ruby-identifier">find_last</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:all</span>   <span class="ruby-keyword">then</span> <span class="ruby-identifier">find_every</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">else</span>             <span class="ruby-identifier">find_from_ids</span>(<span class="ruby-identifier">args</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find_by_sql">
            
              <b>find_by_sql</b>(sql)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-find_by_sql" name="method-c-find_by_sql" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Executes a custom SQL query against your database and returns all the
results.  The results will be returned as an array with columns requested
encapsulated as attributes of the model you call this method from.  If you
call <code>Product.find_by_sql</code> then the results will be returned in
a Product object with the attributes you specified in the SQL query.</p>

<p>If you call a complicated SQL query which spans multiple tables the columns
specified by the SELECT will be attributes of the model, whether or not
they are columns of the corresponding table.</p>

<p>The <code>sql</code> parameter is a full SQL query as a string.  It will be
called as is, there will be no database agnostic conversions performed. 
This should be a last resort because using, for example, MySQL specific
terms will lock you to using that particular database engine or require you
to change your call if you switch engines.</p>

<h4 id="method-c-find_by_sql-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-comment"># A simple SQL query spanning multiple tables</span>
<span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_by_sql</span> <span class="ruby-string">&quot;SELECT p.title, c.author FROM posts p, comments c WHERE p.id = c.post_id&quot;</span>
<span class="ruby-operator">&gt;</span> [<span class="ruby-comment">#&lt;Post:0x36bff9c @attributes={&quot;title&quot;=&gt;&quot;Ruby Meetup&quot;, &quot;first_name&quot;=&gt;&quot;Quentin&quot;}&gt;, ...]</span>

<span class="ruby-comment"># You can use the same string replacement techniques as you can with ActiveRecord#find</span>
<span class="ruby-constant">Post</span>.<span class="ruby-identifier">find_by_sql</span> [<span class="ruby-string">&quot;SELECT title FROM posts WHERE author = ? AND created &gt; ?&quot;</span>, <span class="ruby-identifier">author_id</span>, <span class="ruby-identifier">start_date</span>]
<span class="ruby-operator">&gt;</span> [<span class="ruby-comment">#&lt;Post:0x36bff9c @attributes={&quot;first_name&quot;=&gt;&quot;The Cheap Man Buys Twice&quot;}&gt;, ...]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-find_by_sql_source')" id="l_method-c-find_by_sql_source">show</a>
                
              </p>
              <div id="method-c-find_by_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 664</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">find_by_sql</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">select_all</span>(<span class="ruby-identifier">sanitize_sql</span>(<span class="ruby-identifier">sql</span>), <span class="ruby-node">&quot;#{name} Load&quot;</span>).<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instantiate</span>(<span class="ruby-identifier">record</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-first">
            
              <b>first</b>(*args)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-first" name="method-c-first" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>A convenience wrapper for <code>find(:first, *args)</code>. You can pass in
all the same arguments to this method as you can to
<code>find(:first)</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-first_source')" id="l_method-c-first_source">show</a>
                
              </p>
              <div id="method-c-first_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 626</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">first</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, *<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-human_attribute_name">
            
              <b>human_attribute_name</b>(attribute_key_name, options = {})
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-human_attribute_name" name="method-c-human_attribute_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Transforms attribute key names into a more humane format, such as “First
name” instead of “first_name”. Example:</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">human_attribute_name</span>(<span class="ruby-string">&quot;first_name&quot;</span>) <span class="ruby-comment"># =&gt; &quot;First name&quot;</span>
</pre>

<p>This used to be depricated in favor of humanize, but is now preferred,
because it automatically uses the <a href="../I18n.html">I18n</a> module
now. Specify <code>options</code> with additional translating options.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-human_attribute_name_source')" id="l_method-c-human_attribute_name_source">show</a>
                
              </p>
              <div id="method-c-human_attribute_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1395</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">human_attribute_name</span>(<span class="ruby-identifier">attribute_key_name</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">defaults</span> = <span class="ruby-identifier">self_and_descendants_from_active_record</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
    <span class="ruby-value">:&quot;#{klass.name.underscore}.#{attribute_key_name}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">defaults</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:default</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:default</span>]
  <span class="ruby-identifier">defaults</span>.<span class="ruby-identifier">flatten!</span>
  <span class="ruby-identifier">defaults</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attribute_key_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">humanize</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:count</span>] <span class="ruby-operator">||=</span> <span class="ruby-number">1</span>
  <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">translate</span>(<span class="ruby-identifier">defaults</span>.<span class="ruby-identifier">shift</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">defaults</span>, <span class="ruby-value">:scope</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:activerecord</span>, <span class="ruby-value">:attributes</span>]))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-human_name">
            
              <b>human_name</b>(options = {})
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-human_name" name="method-c-human_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Transform the modelname into a more humane format, using <a
href="../I18n.html">I18n</a>. Defaults to the basic humanize method.
Default scope of the translation is activerecord.models Specify
<code>options</code> with additional translating options.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-human_name_source')" id="l_method-c-human_name_source">show</a>
                
              </p>
              <div id="method-c-human_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1410</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">human_name</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">defaults</span> = <span class="ruby-identifier">self_and_descendants_from_active_record</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
    <span class="ruby-value">:&quot;#{klass.name.underscore}&quot;</span>
  <span class="ruby-keyword">end</span> 
  <span class="ruby-identifier">defaults</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">humanize</span>
  <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">translate</span>(<span class="ruby-identifier">defaults</span>.<span class="ruby-identifier">shift</span>, {<span class="ruby-value">:scope</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:activerecord</span>, <span class="ruby-value">:models</span>], <span class="ruby-value">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">defaults</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-increment_counter">
            
              <b>increment_counter</b>(counter_name, id)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-increment_counter" name="method-c-increment_counter" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Increment a number field by one, usually representing a count.</p>

<p>This is used for caching aggregate values, so that they don&#39;t need to
be computed every time. For example, a DiscussionBoard may cache post_count
and comment_count otherwise every time the board is shown it would have to
run an SQL query to find how many posts and comments there are.</p>

<h4 id="method-c-increment_counter-label-Parameters">Parameters</h4>
<ul><li>
<p><code>counter_name</code> - The name of the field that should be
incremented.</p>
</li><li>
<p><code>id</code> - The id of the object that should be incremented.</p>
</li></ul>

<h4 id="method-c-increment_counter-label-Examples">Examples</h4>

<pre># Increment the post_count column for the record with an id of 5
DiscussionBoard.increment_counter(:post_count, 5)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-increment_counter_source')" id="l_method-c-increment_counter_source">show</a>
                
              </p>
              <div id="method-c-increment_counter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1007</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">increment_counter</span>(<span class="ruby-identifier">counter_name</span>, <span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">update_counters</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">counter_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inheritance_column">
            
              <b>inheritance_column</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-inheritance_column" name="method-c-inheritance_column" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Defines the column name for use with single table inheritance – can be set
in subclasses like so: self.inheritance_column = “type_id”</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-inheritance_column_source')" id="l_method-c-inheritance_column_source">show</a>
                
              </p>
              <div id="method-c-inheritance_column_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1215</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inheritance_column</span>
  <span class="ruby-ivar">@inheritance_column</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;type&quot;</span>.<span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inheritance_column-3D">
            
              <b>inheritance_column=</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-inheritance_column-3D" name="method-c-inheritance_column-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-inspect" name="method-c-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a string like &#39;Post id:integer, title:string, body:text&#39;</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-inspect_source')" id="l_method-c-inspect_source">show</a>
                
              </p>
              <div id="method-c-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1433</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">abstract_class?</span>
    <span class="ruby-node">&quot;#{super}(abstract)&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">table_exists?</span>
    <span class="ruby-identifier">attr_list</span> = <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{c.name}: #{c.type}&quot;</span> } * <span class="ruby-string">&#39;, &#39;</span>
    <span class="ruby-node">&quot;#{super}(#{attr_list})&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-node">&quot;#{super}(Table doesn&#39;t exist)&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-last">
            
              <b>last</b>(*args)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-last" name="method-c-last" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>A convenience wrapper for <code>find(:last, *args)</code>. You can pass in
all the same arguments to this method as you can to
<code>find(:last)</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-last_source')" id="l_method-c-last_source">show</a>
                
              </p>
              <div id="method-c-last_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 632</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">last</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:last</span>, *<span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-merge_conditions">
            
              <b>merge_conditions</b>(*conditions)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-merge_conditions" name="method-c-merge_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Merges conditions so that the result is a valid <code>condition</code></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-merge_conditions_source')" id="l_method-c-merge_conditions_source">show</a>
                
              </p>
              <div id="method-c-merge_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1523</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">merge_conditions</span>(*<span class="ruby-identifier">conditions</span>)
  <span class="ruby-identifier">segments</span> = []

  <span class="ruby-identifier">conditions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">condition</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">condition</span>.<span class="ruby-identifier">blank?</span>
      <span class="ruby-identifier">sql</span> = <span class="ruby-identifier">sanitize_sql</span>(<span class="ruby-identifier">condition</span>)
      <span class="ruby-identifier">segments</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sql</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">sql</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-node">&quot;(#{segments.join(&#39;) AND (&#39;)})&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">segments</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <b>new</b>(attributes = nil)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-new" name="method-c-new" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names). In both instances,
valid attribute keys are determined by the column names of the associated
table – hence you can&#39;t have attributes that aren&#39;t part of the
table columns.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2480</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@attributes</span> = <span class="ruby-identifier">attributes_from_column_definition</span>
  <span class="ruby-ivar">@attributes_cache</span> = {}
  <span class="ruby-ivar">@new_record</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">ensure_proper_type</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">attributes</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">assign_attributes</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:scope</span>, <span class="ruby-value">:create</span>)) <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:scoped?</span>, <span class="ruby-value">:create</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">callback</span>(<span class="ruby-value">:after_initialize</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to_without_attributes?</span>(<span class="ruby-value">:after_initialize</span>)
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-pluralize_table_names">
            
              <b>pluralize_table_names</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-pluralize_table_names" name="method-c-pluralize_table_names" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Indicates whether table names should be the pluralized versions of the
corresponding class names. If true, the default table name for a Product
class will be <code>products</code>. If false, it would just be
<code>product</code>. See <a
href="Base.html#method-c-table_name">::table_name</a> for the full rules on
table/class naming. This is true, by default.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-pluralize_table_names_source')" id="l_method-c-pluralize_table_names_source">show</a>
                
              </p>
              <div id="method-c-pluralize_table_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 483</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:pluralize_table_names</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-primary_key">
            
              <b>primary_key</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-primary_key" name="method-c-primary_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Defines the primary key field – can be overridden in subclasses.
Overwriting will negate any effect of the <a
href="Base.html#method-c-primary_key_prefix_type">::primary_key_prefix_type</a>
setting, though.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-primary_key_source')" id="l_method-c-primary_key_source">show</a>
                
              </p>
              <div id="method-c-primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">primary_key</span>
  <span class="ruby-identifier">reset_primary_key</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-primary_key-3D">
            
              <b>primary_key=</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-primary_key-3D" name="method-c-primary_key-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-primary_key_prefix_type">
            
              <b>primary_key_prefix_type</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-primary_key_prefix_type" name="method-c-primary_key_prefix_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Accessor for the prefix type that will be prepended to every primary key
column name. The options are :<a
href="Base.html#method-c-table_name">::table_name</a> and
:table_name_with_underscore. If the first is specified, the Product class
will look for “productid” instead of “id” as the primary column. If the
latter is specified, the Product class will look for “product_id” instead
of “id”. Remember that this is a global setting for all Active Records.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-primary_key_prefix_type_source')" id="l_method-c-primary_key_prefix_type_source">show</a>
                
              </p>
              <div id="method-c-primary_key_prefix_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 457</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:primary_key_prefix_type</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-readonly_attributes">
            
              <b>readonly_attributes</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-readonly_attributes" name="method-c-readonly_attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of all the attributes that have been specified as
readonly.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-readonly_attributes_source')" id="l_method-c-readonly_attributes_source">show</a>
                
              </p>
              <div id="method-c-readonly_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1100</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">readonly_attributes</span>
  <span class="ruby-identifier">read_inheritable_attribute</span>(<span class="ruby-value">:attr_readonly</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_connection">
            
              <b>remove_connection</b>(klass = self)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-remove_connection" name="method-c-remove_connection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-remove_connection_source')" id="l_method-c-remove_connection_source">show</a>
                
              </p>
              <div id="method-c-remove_connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_connection</span>(<span class="ruby-identifier">klass</span> = <span class="ruby-keyword">self</span>)
  <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">remove_connection</span>(<span class="ruby-identifier">klass</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-reset_column_information">
            
              <b>reset_column_information</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-reset_column_information" name="method-c-reset_column_information" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Resets all the cached information about columns, which will cause them to
be reloaded on the next request.</p>

<p>The most common usage pattern for this method is probably in a migration,
when just after creating a table you want to populate it with some default
values, eg:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">CreateJobLevels</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Migration</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">up</span>
    <span class="ruby-identifier">create_table</span> :<span class="ruby-identifier">job_levels</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">integer</span> :<span class="ruby-identifier">id</span>
      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">string</span> :<span class="ruby-identifier">name</span>

      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">timestamps</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-constant">JobLevel</span>.<span class="ruby-identifier">reset_column_information</span>
    <span class="ruby-node">%w{assistant executive manager director}</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">type</span><span class="ruby-operator">|</span>
      <span class="ruby-constant">JobLevel</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">down</span>
    <span class="ruby-identifier">drop_table</span> :<span class="ruby-identifier">job_levels</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-reset_column_information_source')" id="l_method-c-reset_column_information_source">show</a>
                
              </p>
              <div id="method-c-reset_column_information_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1367</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reset_column_information</span>
  <span class="ruby-identifier">generated_methods</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">undef_method</span>(<span class="ruby-identifier">name</span>) }
  <span class="ruby-ivar">@column_names</span> = <span class="ruby-ivar">@columns</span> = <span class="ruby-ivar">@columns_hash</span> = <span class="ruby-ivar">@content_columns</span> = <span class="ruby-ivar">@dynamic_methods_hash</span> = <span class="ruby-ivar">@generated_methods</span> = <span class="ruby-ivar">@inheritance_column</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-reset_counters">
            
              <b>reset_counters</b>(id, *counters)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-reset_counters" name="method-c-reset_counters" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Resets one or more counter caches to their correct value using an SQL count
query.  This is useful when adding new counter caches, or if the counter
has been corrupted or modified directly by SQL.</p>

<h4 id="method-c-reset_counters-label-Parameters">Parameters</h4>
<ul><li>
<p><code>id</code> - The id of the object you wish to reset a counter on.</p>
</li><li>
<p><code>counters</code> - One or more counter names to reset</p>
</li></ul>

<h4 id="method-c-reset_counters-label-Examples">Examples</h4>

<pre># For Post with id #1 records reset the comments_count
Post.reset_counters(1, :comments)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-reset_counters_source')" id="l_method-c-reset_counters_source">show</a>
                
              </p>
              <div id="method-c-reset_counters_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 936</span>
      <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reset_counters</span>(<span class="ruby-identifier">id</span>, *<span class="ruby-identifier">counters</span>)
        <span class="ruby-identifier">object</span> = <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)
        <span class="ruby-identifier">counters</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">association</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">child_class</span> = <span class="ruby-identifier">reflect_on_association</span>(<span class="ruby-identifier">association</span>.<span class="ruby-identifier">to_sym</span>).<span class="ruby-identifier">klass</span>
          <span class="ruby-identifier">belongs_name</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">demodulize</span>.<span class="ruby-identifier">underscore</span>.<span class="ruby-identifier">to_sym</span>
          <span class="ruby-identifier">counter_name</span> = <span class="ruby-identifier">child_class</span>.<span class="ruby-identifier">reflect_on_association</span>(<span class="ruby-identifier">belongs_name</span>).<span class="ruby-identifier">counter_cache_column</span>
          <span class="ruby-identifier">value</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">association</span>).<span class="ruby-identifier">count</span>

          <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">update</span>(<span class="ruby-string">&quot;            UPDATE #{quoted_table_name}
            SET #{connection.quote_column_name(counter_name)} = #{value}
            WHERE #{connection.quote_column_name(primary_key)} = #{quote_value(object.id)}
&quot;</span>, <span class="ruby-node">&quot;#{name} UPDATE&quot;</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-respond_to-3F">
            
              <b>respond_to?</b>(method_id, include_private = false)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-respond_to-3F" name="method-c-respond_to-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-respond_to-3F_source')" id="l_method-c-respond_to-3F_source">show</a>
                
              </p>
              <div id="method-c-respond_to-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1508</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">respond_to?</span>(<span class="ruby-identifier">method_id</span>, <span class="ruby-identifier">include_private</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicFinderMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method_id</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">all_attributes_exists?</span>(<span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicScopeMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method_id</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">all_attributes_exists?</span>(<span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">super</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-retrieve_connection">
            
              <b>retrieve_connection</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-retrieve_connection" name="method-c-retrieve_connection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-retrieve_connection_source')" id="l_method-c-retrieve_connection_source">show</a>
                
              </p>
              <div id="method-c-retrieve_connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">retrieve_connection</span>
  <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">retrieve_connection</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-schema_format">
            
              <b>schema_format</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-schema_format" name="method-c-schema_format" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Specifies the format to use when dumping the database schema with
Rails&#39; Rakefile.  If :sql, the schema is dumped as (potentially
database- specific) SQL statements.  If :ruby, the schema is dumped as an
<a href="Schema.html">ActiveRecord::Schema</a> file which can be loaded
into any database that supports migrations.  Use :ruby if you want to have
different database adapters for, e.g., your development and test
environments.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-schema_format_source')" id="l_method-c-schema_format_source">show</a>
                
              </p>
              <div id="method-c-schema_format_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 509</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:schema_format</span> , <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sequence_name-3D">
            
              <b>sequence_name=</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sequence_name-3D" name="method-c-sequence_name-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-serialize">
            
              <b>serialize</b>(attr_name, class_name = Object)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-serialize" name="method-c-serialize" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>If you have an attribute that needs to be saved to the database as an
object, and retrieved as the same object, then specify the name of that
attribute using this method and it will be handled automatically. The
serialization is done through YAML. If <code>class_name</code> is
specified, the serialized object must be of that class on retrieval or <a
href="SerializationTypeMismatch.html">SerializationTypeMismatch</a> will be
raised.</p>

<h4 id="method-c-serialize-label-Parameters">Parameters</h4>
<ul><li>
<p><code>attr_name</code> - The field name that should be serialized.</p>
</li><li>
<p><code>class_name</code> - Optional, class name that the object type should
be equal to.</p>
</li></ul>

<h4 id="method-c-serialize-label-Example">Example</h4>

<pre class="ruby"><span class="ruby-comment"># Serialize a preferences attribute</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">User</span>
  <span class="ruby-identifier">serialize</span> :<span class="ruby-identifier">preferences</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-serialize_source')" id="l_method-c-serialize_source">show</a>
                
              </p>
              <div id="method-c-serialize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1119</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">serialize</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">class_name</span> = <span class="ruby-constant">Object</span>)
  <span class="ruby-identifier">serialized_attributes</span>[<span class="ruby-identifier">attr_name</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-identifier">class_name</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-serialized_attributes">
            
              <b>serialized_attributes</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-serialized_attributes" name="method-c-serialized_attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a hash of all the attributes that have been specified for
serialization as keys and their class restriction as values.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-serialized_attributes_source')" id="l_method-c-serialized_attributes_source">show</a>
                
              </p>
              <div id="method-c-serialized_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1124</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">serialized_attributes</span>
  <span class="ruby-identifier">read_inheritable_attribute</span>(<span class="ruby-value">:attr_serialized</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_serialized</span>, {})
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_inheritance_column">
            
              <b>set_inheritance_column</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-set_inheritance_column" name="method-c-set_inheritance_column" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the name of the inheritance column to use to the given value, or (if
the value # is nil or false) to the value returned by the given block.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_inheritance_column</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">original_inheritance_column</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;_id&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-inheritance_column-3D">inheritance_column=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_inheritance_column_source')" id="l_method-c-set_inheritance_column_source">show</a>
                
              </p>
              <div id="method-c-set_inheritance_column_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1263</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_inheritance_column</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:inheritance_column</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_primary_key">
            
              <b>set_primary_key</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-set_primary_key" name="method-c-set_primary_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the name of the primary key column to use to the given value, or (if
the value is nil or false) to the value returned by the given block.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_primary_key</span> <span class="ruby-string">&quot;sysid&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-primary_key-3D">primary_key=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_primary_key_source')" id="l_method-c-set_primary_key_source">show</a>
                
              </p>
              <div id="method-c-set_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1249</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_primary_key</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:primary_key</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_sequence_name">
            
              <b>set_sequence_name</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-set_sequence_name" name="method-c-set_sequence_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the name of the sequence to use when generating ids to the given
value, or (if the value is nil or false) to the value returned by the given
block. This is required for Oracle and is useful for any database which
relies on sequences for primary key generation.</p>

<p>If a sequence name is not explicitly set when using Oracle or Firebird, it
will default to the commonly used pattern of: #{<a
href="Base.html#method-c-table_name">::table_name</a>}_seq</p>

<p>If a sequence name is not explicitly set when using PostgreSQL, it will
discover the sequence corresponding to your primary key for you.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_sequence_name</span> <span class="ruby-string">&quot;projectseq&quot;</span>   <span class="ruby-comment"># default would have been &quot;project_seq&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-sequence_name-3D">sequence_name=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_sequence_name_source')" id="l_method-c-set_sequence_name_source">show</a>
                
              </p>
              <div id="method-c-set_sequence_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1282</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_sequence_name</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:sequence_name</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_table_name">
            
              <b>set_table_name</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-set_table_name" name="method-c-set_table_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the table name to use to the given value, or (if the value is nil or
false) to the value returned by the given block.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_table_name</span> <span class="ruby-string">&quot;project&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-table_name-3D">table_name=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_table_name_source')" id="l_method-c-set_table_name_source">show</a>
                
              </p>
              <div id="method-c-set_table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1237</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_table_name</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:table_name</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-silence">
            
              <b>silence</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-silence" name="method-c-silence" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Silences the logger for the duration of the block.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-silence_source')" id="l_method-c-silence_source">show</a>
                
              </p>
              <div id="method-c-silence_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1480</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">silence</span>
  <span class="ruby-identifier">old_logger_level</span>, <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span>, <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">ERROR</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">logger</span>
  <span class="ruby-keyword">yield</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-identifier">old_logger_level</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">logger</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sti_name">
            
              <b>sti_name</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sti_name" name="method-c-sti_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sti_name_source')" id="l_method-c-sti_name_source">show</a>
                
              </p>
              <div id="method-c-sti_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1518</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sti_name</span>
  <span class="ruby-identifier">store_full_sti_class</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">demodulize</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_exists-3F">
            
              <b>table_exists?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-table_exists-3F" name="method-c-table_exists-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Indicates whether the table associated with this class exists</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-table_exists-3F_source')" id="l_method-c-table_exists-3F_source">show</a>
                
              </p>
              <div id="method-c-table_exists-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1298</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">table_exists?</span>
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">table_exists?</span>(<span class="ruby-identifier">table_name</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_name">
            
              <b>table_name</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-table_name" name="method-c-table_name" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Guesses the table name (in forced lower-case) based on the name of the
class in the inheritance hierarchy descending directly from <a
href="Base.html">ActiveRecord::Base</a>. So if the hierarchy looks like:
Reply &lt; Message &lt; <a href="Base.html">ActiveRecord::Base</a>, then
Message is used to guess the table name even when called on Reply. The
rules used to do the guess are handled by the Inflector class in Active
Support, which knows almost all common English inflections. You can add new
inflections in config/initializers/inflections.rb.</p>

<p>Nested classes are given table names prefixed by the singular form of the
parent&#39;s table name. Enclosing modules are not considered.</p>

<h4 id="method-c-table_name-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Invoice</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>; <span class="ruby-keyword">end</span>;
<span class="ruby-identifier">file</span>                  <span class="ruby-keyword">class</span>               <span class="ruby-identifier">table_name</span>
<span class="ruby-identifier">invoice</span>.<span class="ruby-identifier">rb</span>            <span class="ruby-constant">Invoice</span>             <span class="ruby-identifier">invoices</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">Invoice</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>; <span class="ruby-keyword">class</span> <span class="ruby-constant">Lineitem</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>; <span class="ruby-keyword">end</span>; <span class="ruby-keyword">end</span>;
<span class="ruby-identifier">file</span>                  <span class="ruby-keyword">class</span>               <span class="ruby-identifier">table_name</span>
<span class="ruby-identifier">invoice</span>.<span class="ruby-identifier">rb</span>            <span class="ruby-constant">Invoice</span><span class="ruby-operator">::</span><span class="ruby-constant">Lineitem</span>   <span class="ruby-identifier">invoice_lineitems</span>

<span class="ruby-keyword">module</span> <span class="ruby-constant">Invoice</span>; <span class="ruby-keyword">class</span> <span class="ruby-constant">Lineitem</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>; <span class="ruby-keyword">end</span>; <span class="ruby-keyword">end</span>;
<span class="ruby-identifier">file</span>                  <span class="ruby-keyword">class</span>               <span class="ruby-identifier">table_name</span>
<span class="ruby-identifier">invoice</span><span class="ruby-operator">/</span><span class="ruby-identifier">lineitem</span>.<span class="ruby-identifier">rb</span>   <span class="ruby-constant">Invoice</span><span class="ruby-operator">::</span><span class="ruby-constant">Lineitem</span>   <span class="ruby-identifier">lineitems</span>
</pre>

<p>Additionally, the class-level <code>table_name_prefix</code> is prepended
and the <code>table_name_suffix</code> is appended.  So if you have
“myapp_” as a prefix, the table name guess for an Invoice class becomes
“myapp_invoices”. Invoice::Lineitem becomes “myapp_invoice_lineitems”.</p>

<p>You can also overwrite this class method to allow for unguessable links,
such as a Mouse class with a link to a “mice” table. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Mouse</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_table_name</span> <span class="ruby-string">&quot;mice&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-table_name_source')" id="l_method-c-table_name_source">show</a>
                
              </p>
              <div id="method-c-table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 1161</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">table_name</span>
  <span class="ruby-identifier">reset_table_name</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_name-3D">
            
              <b>table_name=</b>(value = nil, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-table_name-3D" name="method-c-table_name-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_name_prefix">
            
              <b>table_name_prefix</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-table_name_prefix" name="method-c-table_name_prefix" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Accessor for the name of the prefix string to prepend to every table name.
So if set to “basecamp_”, all table names will be named like
“basecamp_projects”, “basecamp_people”, etc. This is a convenient way of
creating a namespace for tables in a shared database. By default, the
prefix is the empty string.</p>

<p>If you are organising your models within modules you can add a prefix to
the models within a namespace by defining a singleton method in the parent
module called <a
href="Base.html#method-c-table_name_prefix">::table_name_prefix</a> which
returns your chosen prefix.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-table_name_prefix_source')" id="l_method-c-table_name_prefix_source">show</a>
                
              </p>
              <div id="method-c-table_name_prefix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 468</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:table_name_prefix</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_name_suffix">
            
              <b>table_name_suffix</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-table_name_suffix" name="method-c-table_name_suffix" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Works like <code>table_name_prefix</code>, but appends instead of prepends
(set to “_basecamp” gives “projects_basecamp”, “people_basecamp”). By
default, the suffix is the empty string.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-table_name_suffix_source')" id="l_method-c-table_name_suffix_source">show</a>
                
              </p>
              <div id="method-c-table_name_suffix_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 475</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:table_name_suffix</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-timestamped_migrations">
            
              <b>timestamped_migrations</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-timestamped_migrations" name="method-c-timestamped_migrations" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Specify whether or not to use timestamps for migration numbers</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-timestamped_migrations_source')" id="l_method-c-timestamped_migrations_source">show</a>
                
              </p>
              <div id="method-c-timestamped_migrations_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 515</span>
<span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:timestamped_migrations</span> , <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
</pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-update">
            
              <b>update</b>(id, attributes)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-update" name="method-c-update" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Updates an object (or multiple objects) and saves it to the database, if
validations pass. The resulting object is returned whether the object was
saved successfully to the database or not.</p>

<h4 id="method-c-update-label-Parameters">Parameters</h4>
<ul><li>
<p><code>id</code> - This should be the id or an array of ids to be updated.</p>
</li><li>
<p><code>attributes</code> - This should be a hash of attributes to be set on
the object, or an array of hashes.</p>
</li></ul>

<h4 id="method-c-update-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-comment"># Updating one record:</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">update</span>(<span class="ruby-value">15</span>, :<span class="ruby-identifier">user_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Samuel&#39;</span>, :<span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;expert&#39;</span>)

<span class="ruby-comment"># Updating multiple records:</span>
<span class="ruby-identifier">people</span> = { <span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;first_name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span> }, <span class="ruby-value">2</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;first_name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Jeremy&quot;</span> } }
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">people</span>.<span class="ruby-identifier">keys</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">values</span>)
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-update_source')" id="l_method-c-update_source">show</a>
                
              </p>
              <div id="method-c-update_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 748</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">attributes</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-identifier">idx</span> = <span class="ruby-number">-1</span>
    <span class="ruby-identifier">id</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">one_id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>; <span class="ruby-identifier">update</span>(<span class="ruby-identifier">one_id</span>, <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">idx</span>]) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">object</span> = <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)
    <span class="ruby-identifier">object</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">attributes</span>)
    <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-update_all">
            
              <b>update_all</b>(updates, conditions = nil, options = {})
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-update_all" name="method-c-update_all" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Updates all records with details given if they match a set of conditions
supplied, limits and order can also be supplied. This method constructs a
single SQL UPDATE statement and sends it straight to the database. It does
not instantiate the involved models and it does not trigger Active Record
callbacks.</p>

<h4 id="method-c-update_all-label-Parameters">Parameters</h4>
<ul><li>
<p><code>updates</code> - A string of column and value pairs that will be set
on any records that match conditions. This creates the SET clause of the
generated SQL.</p>
</li><li>
<p><code>conditions</code> - An SQL fragment like “administrator = 1” or [
“user_name = ?”, username ]. See conditions in the intro for more info.</p>
</li><li>
<p><code>options</code> - Additional options are <code>:limit</code> and
<code>:order</code>, see the examples for usage.</p>
</li></ul>

<h4 id="method-c-update_all-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-comment"># Update all billing objects with the 3 different attributes given</span>
<span class="ruby-constant">Billing</span>.<span class="ruby-identifier">update_all</span>( <span class="ruby-string">&quot;category = &#39;authorized&#39;, approved = 1, author = &#39;David&#39;&quot;</span> )

<span class="ruby-comment"># Update records that match our conditions</span>
<span class="ruby-constant">Billing</span>.<span class="ruby-identifier">update_all</span>( <span class="ruby-string">&quot;author = &#39;David&#39;&quot;</span>, <span class="ruby-string">&quot;title LIKE &#39;%Rails%&#39;&quot;</span> )

<span class="ruby-comment"># Update records that match our conditions but limit it to 5 ordered by date</span>
<span class="ruby-constant">Billing</span>.<span class="ruby-identifier">update_all</span>( <span class="ruby-string">&quot;author = &#39;David&#39;&quot;</span>, <span class="ruby-string">&quot;title LIKE &#39;%Rails%&#39;&quot;</span>,
                      :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;created_at&#39;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span> )
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-update_all_source')" id="l_method-c-update_all_source">show</a>
                
              </p>
              <div id="method-c-update_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 831</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_all</span>(<span class="ruby-identifier">updates</span>, <span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">sql</span>  = <span class="ruby-node">&quot;UPDATE #{quoted_table_name} SET #{sanitize_sql_for_assignment(updates)} &quot;</span>

  <span class="ruby-identifier">scope</span> = <span class="ruby-identifier">scope</span>(<span class="ruby-value">:find</span>)

  <span class="ruby-identifier">select_sql</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">add_conditions!</span>(<span class="ruby-identifier">select_sql</span>, <span class="ruby-identifier">conditions</span>, <span class="ruby-identifier">scope</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:limit</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">scope</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">scope</span>[<span class="ruby-value">:limit</span>])
    <span class="ruby-comment"># Only take order from scope if limit is also provided by scope, this</span>
    <span class="ruby-comment"># is useful for updating a has_many association with a limit.</span>
    <span class="ruby-identifier">add_order!</span>(<span class="ruby-identifier">select_sql</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:order</span>], <span class="ruby-identifier">scope</span>)

    <span class="ruby-identifier">add_limit!</span>(<span class="ruby-identifier">select_sql</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">scope</span>)
    <span class="ruby-identifier">sql</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">limited_update_conditions</span>(<span class="ruby-identifier">select_sql</span>, <span class="ruby-identifier">quoted_table_name</span>, <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_column_name</span>(<span class="ruby-identifier">primary_key</span>)))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">add_order!</span>(<span class="ruby-identifier">select_sql</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:order</span>], <span class="ruby-keyword">nil</span>)
    <span class="ruby-identifier">sql</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">select_sql</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-node">&quot;#{name} Update&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-update_counters">
            
              <b>update_counters</b>(id, counters)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-update_counters" name="method-c-update_counters" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>A generic “counter updater” implementation, intended primarily to be used
by <a href="Base.html#method-c-increment_counter">::increment_counter</a>
and <a href="Base.html#method-c-decrement_counter">::decrement_counter</a>,
but which may also be useful on its own. It simply does a direct SQL update
for the record with the given ID, altering the given hash of counters by
the amount given by the corresponding value:</p>

<h4 id="method-c-update_counters-label-Parameters">Parameters</h4>
<ul><li>
<p><code>id</code> - The id of the object you wish to update a counter on or
an Array of ids.</p>
</li><li>
<p><code>counters</code> - An Array of Hashes containing the names of the
fields to update as keys and the amount to update the field by as values.</p>
</li></ul>

<h4 id="method-c-update_counters-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-comment"># For the Post with id of 5, decrement the comment_count by 1, and</span>
<span class="ruby-comment"># increment the action_count by 1</span>
<span class="ruby-constant">Post</span>.<span class="ruby-identifier">update_counters</span> <span class="ruby-value">5</span>, :<span class="ruby-identifier">comment_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>, :<span class="ruby-identifier">action_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
<span class="ruby-comment"># Executes the following SQL:</span>
<span class="ruby-comment"># UPDATE posts</span>
<span class="ruby-comment">#    SET comment_count = comment_count - 1,</span>
<span class="ruby-comment">#        action_count = action_count + 1</span>
<span class="ruby-comment">#  WHERE id = 5</span>

<span class="ruby-comment"># For the Posts with id of 10 and 15, increment the comment_count by 1</span>
<span class="ruby-constant">Post</span>.<span class="ruby-identifier">update_counters</span> [<span class="ruby-value">10</span>, <span class="ruby-value">15</span>], :<span class="ruby-identifier">comment_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
<span class="ruby-comment"># Executes the following SQL:</span>
<span class="ruby-comment"># UPDATE posts</span>
<span class="ruby-comment">#    SET comment_count = comment_count + 1,</span>
<span class="ruby-comment">#  WHERE id IN (10, 15)</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-update_counters_source')" id="l_method-c-update_counters_source">show</a>
                
              </p>
              <div id="method-c-update_counters_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 982</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_counters</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">counters</span>)
  <span class="ruby-identifier">updates</span> = <span class="ruby-identifier">counters</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">counter_name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">operator</span> = <span class="ruby-identifier">value</span> <span class="ruby-operator">&lt;</span> <span class="ruby-number">0</span> <span class="ruby-operator">?</span> <span class="ruby-string">&#39;-&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;+&#39;</span>
    <span class="ruby-identifier">quoted_column</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_column_name</span>(<span class="ruby-identifier">counter_name</span>)
    <span class="ruby-node">&quot;#{quoted_column} = COALESCE(#{quoted_column}, 0) #{operator} #{value.abs}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">update_all</span>(<span class="ruby-identifier">updates</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>), <span class="ruby-identifier">primary_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id</span> )
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-verification_timeout">
            
              <b>verification_timeout</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-verification_timeout" name="method-c-verification_timeout" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deprecated and no longer has any effect.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-verification_timeout_source')" id="l_method-c-verification_timeout_source">show</a>
                
              </p>
              <div id="method-c-verification_timeout_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">verification_timeout</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&quot;ActiveRecord::Base.verification_timeout has been deprecated and no longer has any effect. Please remove all references to verification_timeout.&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-verification_timeout-3D">
            
              <b>verification_timeout=</b>(flag)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-verification_timeout-3D" name="method-c-verification_timeout-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deprecated and no longer has any effect.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-verification_timeout-3D_source')" id="l_method-c-verification_timeout-3D_source">show</a>
                
              </p>
              <div id="method-c-verification_timeout-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">verification_timeout=</span>(<span class="ruby-identifier">flag</span>)
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&quot;ActiveRecord::Base.verification_timeout= has been deprecated and no longer has any effect. Please remove all references to verification_timeout=.&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Class Protected methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-aggregate_mapping">
            
              <b>aggregate_mapping</b>(reflection)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-aggregate_mapping" name="method-c-aggregate_mapping" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-aggregate_mapping_source')" id="l_method-c-aggregate_mapping_source">show</a>
                
              </p>
              <div id="method-c-aggregate_mapping_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2291</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">aggregate_mapping</span>(<span class="ruby-identifier">reflection</span>)
  <span class="ruby-identifier">mapping</span> = <span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">options</span>[<span class="ruby-value">:mapping</span>] <span class="ruby-operator">||</span> [<span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">name</span>]
  <span class="ruby-identifier">mapping</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">mapping</span> <span class="ruby-operator">:</span> [<span class="ruby-identifier">mapping</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-class_of_active_record_descendant">
            
              <b>class_of_active_record_descendant</b>(klass)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-class_of_active_record_descendant" name="method-c-class_of_active_record_descendant" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the class descending directly from <a
href="Base.html">ActiveRecord::Base</a> or an abstract class, if any, in
the inheritance hierarchy.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-class_of_active_record_descendant_source')" id="l_method-c-class_of_active_record_descendant_source">show</a>
                
              </p>
              <div id="method-c-class_of_active_record_descendant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2249</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">class_of_active_record_descendant</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">abstract_class?</span>
    <span class="ruby-identifier">klass</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-node">&quot;#{name} doesn&#39;t belong in a hierarchy descending from ActiveRecord&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">class_of_active_record_descendant</span>(<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-compute_type">
            
              <b>compute_type</b>(type_name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-compute_type" name="method-c-compute_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the class type of the record using the current module as a prefix.
So descendants of MyApp::Business::Account would appear as
MyApp::Business::AccountSubclass.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-compute_type_source')" id="l_method-c-compute_type_source">show</a>
                
              </p>
              <div id="method-c-compute_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2236</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">compute_type</span>(<span class="ruby-identifier">type_name</span>)
  <span class="ruby-identifier">modularized_name</span> = <span class="ruby-identifier">type_name_with_module</span>(<span class="ruby-identifier">type_name</span>)
  <span class="ruby-identifier">silence_warnings</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">class_eval</span>(<span class="ruby-identifier">modularized_name</span>, <span class="ruby-keyword">__FILE__</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span>
      <span class="ruby-identifier">class_eval</span>(<span class="ruby-identifier">type_name</span>, <span class="ruby-keyword">__FILE__</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-default_scope">
            
              <b>default_scope</b>(options = {})
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-default_scope" name="method-c-default_scope" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the default options for the model. The format of the
<code>options</code> argument is the same as in find.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Person</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">default_scope</span> :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;last_name, first_name&#39;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-default_scope_source')" id="l_method-c-default_scope_source">show</a>
                
              </p>
              <div id="method-c-default_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2208</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">default_scope</span>(<span class="ruby-identifier">options</span> = {})
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_scoping</span> <span class="ruby-operator">&lt;&lt;</span> { <span class="ruby-value">:find</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>, <span class="ruby-value">:create</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:conditions</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:conditions</span>] <span class="ruby-operator">:</span> {} }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-expand_hash_conditions_for_aggregates">
            
              <b>expand_hash_conditions_for_aggregates</b>(attrs)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-expand_hash_conditions_for_aggregates" name="method-c-expand_hash_conditions_for_aggregates" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Accepts a hash of SQL conditions and replaces those attributes that
correspond to a <code>composed_of</code> relationship with their expanded
aggregate attribute values. Given:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Person</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">composed_of</span> :<span class="ruby-identifier">address</span>, :<span class="ruby-identifier">class_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Address&quot;</span>,
    :<span class="ruby-identifier">mapping</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-node">%w(address_street street)</span>, <span class="ruby-node">%w(address_city city)</span>]
<span class="ruby-keyword">end</span>
</pre>

<p>Then:</p>

<pre class="ruby">{ :<span class="ruby-identifier">address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Address</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;813 abc st.&quot;</span>, <span class="ruby-string">&quot;chicago&quot;</span>) }
  <span class="ruby-comment"># =&gt; { :address_street =&gt; &quot;813 abc st.&quot;, :address_city =&gt; &quot;chicago&quot; }</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-expand_hash_conditions_for_aggregates_source')" id="l_method-c-expand_hash_conditions_for_aggregates_source">show</a>
                
              </p>
              <div id="method-c-expand_hash_conditions_for_aggregates_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2307</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">expand_hash_conditions_for_aggregates</span>(<span class="ruby-identifier">attrs</span>)
  <span class="ruby-identifier">expanded_attrs</span> = {}
  <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">aggregation</span> = <span class="ruby-identifier">reflect_on_aggregation</span>(<span class="ruby-identifier">attr</span>)).<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">mapping</span> = <span class="ruby-identifier">aggregate_mapping</span>(<span class="ruby-identifier">aggregation</span>)
      <span class="ruby-identifier">mapping</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field_attr</span>, <span class="ruby-identifier">aggregate_attr</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">mapping</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-number">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">value</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">aggregate_attr</span>)
          <span class="ruby-identifier">expanded_attrs</span>[<span class="ruby-identifier">field_attr</span>] = <span class="ruby-identifier">value</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">expanded_attrs</span>[<span class="ruby-identifier">field_attr</span>] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">aggregate_attr</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">expanded_attrs</span>[<span class="ruby-identifier">attr</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">expanded_attrs</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_conditions">
            
              <b>sanitize_conditions</b>(condition, table_name = quoted_table_name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_conditions" name="method-c-sanitize_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql">
            
              <b>sanitize_sql</b>(condition, table_name = quoted_table_name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_sql" name="method-c-sanitize_sql" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-sanitize_conditions">sanitize_conditions</a>
            </div>
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_array">
            
              <b>sanitize_sql_array</b>(ary)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_sql_array" name="method-c-sanitize_sql_array" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Accepts an array of conditions.  The array has each value sanitized and
interpolated into the SQL statement.</p>

<pre>[&quot;name=&#39;%s&#39; and group_id=&#39;%s&#39;&quot;, &quot;foo&#39;bar&quot;, 4]  returns  &quot;name=&#39;foo&#39;&#39;bar&#39; and group_id=&#39;4&#39;&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_array_source')" id="l_method-c-sanitize_sql_array_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2383</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql_array</span>(<span class="ruby-identifier">ary</span>)
  <span class="ruby-identifier">statement</span>, *<span class="ruby-identifier">values</span> = <span class="ruby-identifier">ary</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">statement</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/:\w+/</span>
    <span class="ruby-identifier">replace_named_bind_variables</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;?&#39;</span>)
    <span class="ruby-identifier">replace_bind_variables</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">values</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">statement</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_string</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_for_assignment">
            
              <b>sanitize_sql_for_assignment</b>(assignments)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_sql_for_assignment" name="method-c-sanitize_sql_for_assignment" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Accepts an array, hash, or string of SQL conditions and sanitizes them into
a valid SQL fragment for a SET clause.</p>

<pre class="ruby">{ :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span> }  <span class="ruby-identifier">returns</span> <span class="ruby-string">&quot;name = NULL , group_id=&#39;4&#39;&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_for_assignment_source')" id="l_method-c-sanitize_sql_for_assignment_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_for_assignment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2283</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql_for_assignment</span>(<span class="ruby-identifier">assignments</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">assignments</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>; <span class="ruby-identifier">sanitize_sql_array</span>(<span class="ruby-identifier">assignments</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>;  <span class="ruby-identifier">sanitize_sql_hash_for_assignment</span>(<span class="ruby-identifier">assignments</span>)
    <span class="ruby-keyword">else</span>        <span class="ruby-identifier">assignments</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_for_conditions">
            
              <b>sanitize_sql_for_conditions</b>(condition, table_name = quoted_table_name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_sql_for_conditions" name="method-c-sanitize_sql_for_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Accepts an array, hash, or string of SQL conditions and sanitizes them into
a valid SQL fragment for a WHERE clause.</p>

<pre class="ruby">[<span class="ruby-string">&quot;name=&#39;%s&#39; and group_id=&#39;%s&#39;&quot;</span>, <span class="ruby-string">&quot;foo&#39;bar&quot;</span>, <span class="ruby-value">4</span>]  <span class="ruby-identifier">returns</span>  <span class="ruby-string">&quot;name=&#39;foo&#39;&#39;bar&#39; and group_id=&#39;4&#39;&quot;</span>
{ :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&#39;bar&quot;</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span> }  <span class="ruby-identifier">returns</span> <span class="ruby-string">&quot;name=&#39;foo&#39;&#39;bar&#39; and group_id=&#39;4&#39;&quot;</span>
<span class="ruby-string">&quot;name=&#39;foo&#39;&#39;bar&#39; and group_id=&#39;4&#39;&quot;</span> <span class="ruby-identifier">returns</span> <span class="ruby-string">&quot;name=&#39;foo&#39;&#39;bar&#39; and group_id=&#39;4&#39;&quot;</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-sanitize_sql">sanitize_sql</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_for_conditions_source')" id="l_method-c-sanitize_sql_for_conditions_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_for_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2269</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql_for_conditions</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">quoted_table_name</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">condition</span>.<span class="ruby-identifier">blank?</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">condition</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>; <span class="ruby-identifier">sanitize_sql_array</span>(<span class="ruby-identifier">condition</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>;  <span class="ruby-identifier">sanitize_sql_hash_for_conditions</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">table_name</span>)
    <span class="ruby-keyword">else</span>        <span class="ruby-identifier">condition</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_hash">
            
              <b>sanitize_sql_hash</b>(attrs, default_table_name = quoted_table_name, top_level = true)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_sql_hash" name="method-c-sanitize_sql_hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_hash_for_assignment">
            
              <b>sanitize_sql_hash_for_assignment</b>(attrs)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_sql_hash_for_assignment" name="method-c-sanitize_sql_hash_for_assignment" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sanitizes a hash of attribute/value pairs into SQL conditions for a SET
clause.</p>

<pre class="ruby">{ :<span class="ruby-identifier">status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }
  <span class="ruby-comment"># =&gt; &quot;status = NULL , group_id = 1&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_hash_for_assignment_source')" id="l_method-c-sanitize_sql_hash_for_assignment_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_hash_for_assignment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2374</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql_hash_for_assignment</span>(<span class="ruby-identifier">attrs</span>)
  <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;#{connection.quote_column_name(attr)} = #{quote_bound_value(value)}&quot;</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_hash_for_conditions">
            
              <b>sanitize_sql_hash_for_conditions</b>(attrs, default_table_name = quoted_table_name, top_level = true)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-sanitize_sql_hash_for_conditions" name="method-c-sanitize_sql_hash_for_conditions" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sanitizes a hash of attribute/value pairs into SQL conditions for a WHERE
clause.</p>

<pre class="ruby">{ :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&#39;bar&quot;</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span> }
  <span class="ruby-comment"># =&gt; &quot;name=&#39;foo&#39;&#39;bar&#39; and group_id= 4&quot;</span>
{ :<span class="ruby-identifier">status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>] }
  <span class="ruby-comment"># =&gt; &quot;status IS NULL and group_id IN (1,2,3)&quot;</span>
{ :<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">13</span><span class="ruby-operator">..</span><span class="ruby-value">18</span> }
  <span class="ruby-comment"># =&gt; &quot;age BETWEEN 13 AND 18&quot;</span>
{ <span class="ruby-string">&#39;other_records.id&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span> }
  <span class="ruby-comment"># =&gt; &quot;`other_records`.`id` = 7&quot;</span>
{ :<span class="ruby-identifier">other_records</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7</span> } }
  <span class="ruby-comment"># =&gt; &quot;`other_records`.`id` = 7&quot;</span>
</pre>

<p>And for value objects on a composed_of relationship:</p>

<pre class="ruby">{ :<span class="ruby-identifier">address</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Address</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;123 abc st.&quot;</span>, <span class="ruby-string">&quot;chicago&quot;</span>) }
  <span class="ruby-comment"># =&gt; &quot;address_street=&#39;123 abc st.&#39; and address_city=&#39;chicago&#39;&quot;</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-sanitize_sql_hash">sanitize_sql_hash</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_hash_for_conditions_source')" id="l_method-c-sanitize_sql_hash_for_conditions_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_hash_for_conditions_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2340</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql_hash_for_conditions</span>(<span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">default_table_name</span> = <span class="ruby-identifier">quoted_table_name</span>, <span class="ruby-identifier">top_level</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">attrs</span> = <span class="ruby-identifier">expand_hash_conditions_for_aggregates</span>(<span class="ruby-identifier">attrs</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-string">&#39;1 = 2&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">top_level</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">conditions</span> = <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">default_table_name</span>

    <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
      <span class="ruby-identifier">attr</span> = <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">to_s</span>

      <span class="ruby-comment"># Extract table name from qualified attribute names.</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;.&#39;</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">top_level</span>
        <span class="ruby-identifier">attr_table_name</span>, <span class="ruby-identifier">attr</span> = <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;.&#39;</span>, <span class="ruby-number">2</span>)
        <span class="ruby-identifier">attr_table_name</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_table_name</span>(<span class="ruby-identifier">attr_table_name</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">attr_table_name</span> = <span class="ruby-identifier">table_name</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">attribute_condition</span>(<span class="ruby-node">&quot;#{attr_table_name}.#{connection.quote_column_name(attr)}&quot;</span>, <span class="ruby-identifier">value</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">top_level</span>
      <span class="ruby-identifier">sanitize_sql_hash_for_conditions</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_table_name</span>(<span class="ruby-identifier">attr</span>.<span class="ruby-identifier">to_s</span>), <span class="ruby-keyword">false</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; AND &#39;</span>)

  <span class="ruby-identifier">replace_bind_variables</span>(<span class="ruby-identifier">conditions</span>, <span class="ruby-identifier">expand_range_bind_variables</span>(<span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">values</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-with_exclusive_scope">
            
              <b>with_exclusive_scope</b>(method_scoping = {}, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-with_exclusive_scope" name="method-c-with_exclusive_scope" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Works like <a href="Base.html#method-c-with_scope">::with_scope</a>, but
discards any nested properties.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-with_exclusive_scope_source')" id="l_method-c-with_exclusive_scope_source">show</a>
                
              </p>
              <div id="method-c-with_exclusive_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2193</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">with_exclusive_scope</span>(<span class="ruby-identifier">method_scoping</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">with_scope</span>(<span class="ruby-identifier">method_scoping</span>, <span class="ruby-value">:overwrite</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-with_scope">
            
              <b>with_scope</b>(method_scoping = {}, action = :merge, &amp;block)
            
            <a href="../../classes/ActiveRecord/Base.html#method-c-with_scope" name="method-c-with_scope" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Scope parameters to method calls within the block.  Takes a hash of
method_name =&gt; parameters hash. method_name may be <code>:find</code> or
<code>:create</code>. <code>:find</code> parameters may include the
<code>:conditions</code>, <code>:joins</code>, <code>:include</code>,
<code>:offset</code>, <code>:limit</code>, and <code>:readonly</code>
options. <code>:create</code> parameters are an attributes hash.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Article</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">create_with_scope</span>
    <span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;blog_id = 1&quot;</span> }, :<span class="ruby-identifier">create</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">blog_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>) <span class="ruby-comment"># =&gt; SELECT * from articles WHERE blog_id = 1 AND id = 1</span>
      <span class="ruby-identifier">a</span> = <span class="ruby-identifier">create</span>(<span class="ruby-value">1</span>)
      <span class="ruby-identifier">a</span>.<span class="ruby-identifier">blog_id</span> <span class="ruby-comment"># =&gt; 1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>In nested scopings, all previous parameters are overwritten by the
innermost rule, with the exception of <code>:conditions</code>,
<code>:include</code>, and <code>:joins</code> options in
<code>:find</code>, which are merged.</p>

<p><code>:joins</code> options are uniqued so multiple scopes can join in the
same table without table aliasing problems.  If you need to join multiple
tables, but still want one of the tables to be uniqued, use the array of
strings format for your joins.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Article</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_with_scope</span>
    <span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;blog_id = 1&quot;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }, :<span class="ruby-identifier">create</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">blog_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> })
        <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># =&gt; SELECT * from articles WHERE blog_id = 1 LIMIT 10</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;author_id = 3&quot;</span> })
        <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># =&gt; SELECT * from articles WHERE blog_id = 1 AND author_id = 3 LIMIT 1</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>You can ignore any previous scopings by using the
<code>with_exclusive_scope</code> method.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Article</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_with_exclusive_scope</span>
    <span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;blog_id = 1&quot;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">with_exclusive_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> })
        <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># =&gt; SELECT * from articles LIMIT 10</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p><strong>Note</strong>: the <code>:find</code> scope also has effect on
update and deletion methods, like <code>update_all</code> and
<code>delete_all</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-with_scope_source')" id="l_method-c-with_scope_source">show</a>
                
              </p>
              <div id="method-c-with_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2132</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">with_scope</span>(<span class="ruby-identifier">method_scoping</span> = {}, <span class="ruby-identifier">action</span> = <span class="ruby-value">:merge</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">method_scoping</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:method_scoping</span>)

  <span class="ruby-comment"># Dup first and second level of hash (method and params).</span>
  <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, (<span class="ruby-identifier">method</span>, <span class="ruby-identifier">params</span>)<span class="ruby-operator">|</span>
    <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = (<span class="ruby-identifier">params</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">params</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">hash</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:find</span>, <span class="ruby-value">:create</span> ])

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">f</span> = <span class="ruby-identifier">method_scoping</span>[<span class="ruby-value">:find</span>]
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-constant">VALID_FIND_OPTIONS</span>)
    <span class="ruby-identifier">set_readonly_option!</span> <span class="ruby-identifier">f</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Merge scopings</span>
  <span class="ruby-keyword">if</span> [<span class="ruby-value">:merge</span>, <span class="ruby-value">:reverse_merge</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">action</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">current_scoped_methods</span>
    <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">current_scoped_methods</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">method_scoping</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, (<span class="ruby-identifier">method</span>, <span class="ruby-identifier">params</span>)<span class="ruby-operator">|</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>]
        <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">method</span> <span class="ruby-operator">==</span> <span class="ruby-value">:find</span>
            (<span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>].<span class="ruby-identifier">keys</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">keys</span>).<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">merge</span> = <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>] <span class="ruby-comment"># merge if both scopes have the same key</span>
              <span class="ruby-keyword">if</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-value">:conditions</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">merge</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
                  <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">merge_conditions</span>(<span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>].<span class="ruby-identifier">deep_merge</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>]))
                <span class="ruby-keyword">else</span>
                  <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">merge_conditions</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>])
                <span class="ruby-keyword">end</span>
              <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-value">:include</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">merge</span>
                <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">merge_includes</span>(<span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>], <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>]).<span class="ruby-identifier">uniq</span>
              <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-value">:joins</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">merge</span>
                <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">merge_joins</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>])
              <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>]
              <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">else</span>
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span> <span class="ruby-value">:reverse_merge</span>
              <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">params</span>)
            <span class="ruby-keyword">else</span>
              <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>])
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = <span class="ruby-identifier">params</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">hash</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scoped_methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">method_scoping</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scoped_methods</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-3D-3D">
            
              <b>==</b>(comparison_object)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-3D-3D" name="method-i-3D-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if the <code>comparison_object</code> is the same object, or
is of the same type and has the same id.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2861</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-keyword ruby-title">comparison_object</span>)
  <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-keyword">self</span>) <span class="ruby-operator">||</span>
    (<span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span>
      <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span>
      <span class="ruby-operator">!</span><span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">new_record?</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D">
            
              <b>[]</b>(attr_name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-5B-5D" name="method-i-5B-5D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the value of the attribute identified by <code>attr_name</code>
after it has been typecast (for example, “2004-12-12” in a data column is
cast to a date object, like Date.new(2004, 12, 12)). (Alias for the
protected read_attribute method).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2759</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-keyword ruby-title">attr_name</span>)
  <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attr_name</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D-3D">
            
              <b>[]=</b>(attr_name, value)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-5B-5D-3D" name="method-i-5B-5D-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Updates the attribute identified by <code>attr_name</code> with the
specified <code>value</code>. (Alias for the protected write_attribute
method).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D-3D_source')" id="l_method-i-5B-5D-3D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2765</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-keyword ruby-title">attr_name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">write_attribute</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attribute_for_inspect">
            
              <b>attribute_for_inspect</b>(attr_name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-attribute_for_inspect" name="method-i-attribute_for_inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an <code>#inspect</code>-like string for the value of the attribute
<code>attr_name</code>. <a href="../String.html">String</a> attributes are
elided after 50 characters, and <a href="../Date.html">Date</a> and <a
href="../Time.html">Time</a> attributes are returned in the
<code>:db</code> format. Other attributes return the value of
<code>#inspect</code> without modification.</p>

<pre class="ruby"><span class="ruby-identifier">person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">create!</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David Heinemeier Hansson &quot;</span> * <span class="ruby-value">3</span>)

<span class="ruby-identifier">person</span>.<span class="ruby-identifier">attribute_for_inspect</span>(:<span class="ruby-identifier">name</span>)
<span class="ruby-comment"># =&gt; &#39;&quot;David Heinemeier Hansson David Heinemeier Hansson D...&quot;&#39;</span>

<span class="ruby-identifier">person</span>.<span class="ruby-identifier">attribute_for_inspect</span>(:<span class="ruby-identifier">created_at</span>)
<span class="ruby-comment"># =&gt; &#39;&quot;2009-01-12 04:48:57&quot;&#39;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attribute_for_inspect_source')" id="l_method-i-attribute_for_inspect_source">show</a>
                
              </p>
              <div id="method-i-attribute_for_inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2826</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attribute_for_inspect</span>(<span class="ruby-identifier">attr_name</span>)
  <span class="ruby-identifier">value</span> = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attr_name</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">50</span>
    <span class="ruby-node">&quot;#{value[0..50]}...&quot;</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Date</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Time</span>)
    <span class="ruby-node">%Q(&quot;#{value.to_s(:db)}&quot;)</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">value</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attribute_names">
            
              <b>attribute_names</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-attribute_names" name="method-i-attribute_names" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an array of names for the attributes available on this object
sorted alphabetically.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attribute_names_source')" id="l_method-i-attribute_names_source">show</a>
                
              </p>
              <div id="method-i-attribute_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2851</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attribute_names</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attribute_present-3F">
            
              <b>attribute_present?</b>(attribute)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-attribute_present-3F" name="method-i-attribute_present-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if the specified <code>attribute</code> has been set by the
user or by a database load and is neither nil nor empty? (the latter only
applies to objects that respond to empty?, most notably Strings).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attribute_present-3F_source')" id="l_method-i-attribute_present-3F_source">show</a>
                
              </p>
              <div id="method-i-attribute_present-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2840</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attribute_present?</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">value</span> = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-operator">!</span><span class="ruby-identifier">value</span>.<span class="ruby-identifier">blank?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attributes">
            
              <b>attributes</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-attributes" name="method-i-attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a hash of all the attributes with their names as keys and the
values of the attributes as values.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attributes_source')" id="l_method-i-attributes_source">show</a>
                
              </p>
              <div id="method-i-attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2799</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attributes</span>
  <span class="ruby-identifier">attrs</span> = {}
  <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">name</span>) }
  <span class="ruby-identifier">attrs</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attributes-3D">
            
              <b>attributes=</b>(new_attributes, guard_protected_attributes = true)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-attributes-3D" name="method-i-attributes-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Allows you to set all the attributes at once by passing in a hash with keys
matching the attribute names (which again matches the column names).</p>

<p>If <code>guard_protected_attributes</code> is true (the default), then
sensitive attributes can be protected from this form of mass-assignment by
using the <code>attr_protected</code> macro. Or you can alternatively
specify which attributes <strong>can</strong> be accessed with the
<code>attr_accessible</code> macro. Then all the attributes not included in
that won&#39;t be allowed to be mass-assigned.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">attr_protected</span> :<span class="ruby-identifier">is_admin</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">attributes</span> = { :<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Phusion&#39;</span>, :<span class="ruby-identifier">is_admin</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> }
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">username</span>   <span class="ruby-comment"># =&gt; &quot;Phusion&quot;</span>
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">is_admin?</span>  <span class="ruby-comment"># =&gt; false</span>

<span class="ruby-identifier">user</span>.<span class="ruby-identifier">send</span>(:<span class="ruby-identifier">attributes=</span>, { :<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Phusion&#39;</span>, :<span class="ruby-identifier">is_admin</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> }, <span class="ruby-keyword">false</span>)
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">is_admin?</span>  <span class="ruby-comment"># =&gt; true</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attributes-3D_source')" id="l_method-i-attributes-3D_source">show</a>
                
              </p>
              <div id="method-i-attributes-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2789</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attributes=</span>(<span class="ruby-identifier">new_attributes</span>, <span class="ruby-identifier">guard_protected_attributes</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_attributes</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">new_attributes</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">stringify_keys!</span>

  <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">remove_attributes_protected_from_mass_assignment</span>(<span class="ruby-identifier">attributes</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">guard_protected_attributes</span>
  <span class="ruby-identifier">assign_attributes</span>(<span class="ruby-identifier">attributes</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">attributes</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">any?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attributes_before_type_cast">
            
              <b>attributes_before_type_cast</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-attributes_before_type_cast" name="method-i-attributes_before_type_cast" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a hash of attributes before typecasting and deserialization.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attributes_before_type_cast_source')" id="l_method-i-attributes_before_type_cast_source">show</a>
                
              </p>
              <div id="method-i-attributes_before_type_cast_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2806</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attributes_before_type_cast</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">read_attribute_before_type_cast</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">attrs</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-becomes">
            
              <b>becomes</b>(klass)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-becomes" name="method-i-becomes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an instance of the specified <code>klass</code> with the attributes
of the current record. This is mostly useful in relation to single-table
inheritance structures where you want a subclass to appear as the
superclass. This can be used along with record identification in Action
Pack to allow, say, <code>Client &lt; Company</code> to do something like
render <code>:partial =&gt; @client.becomes(Company)</code> to render that
instance using the companies/company partial instead of clients/client.</p>

<p>Note: The new instance will share a link to the same attributes as the
original class. So any change to the attributes in either instance will
affect the other.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-becomes_source')" id="l_method-i-becomes_source">show</a>
                
              </p>
              <div id="method-i-becomes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2656</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">becomes</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">became</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@attributes&quot;</span>, <span class="ruby-ivar">@attributes</span>)
    <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@attributes_cache&quot;</span>, <span class="ruby-ivar">@attributes_cache</span>)
    <span class="ruby-identifier">became</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-string">&quot;@new_record&quot;</span>, <span class="ruby-identifier">new_record?</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-cache_key">
            
              <b>cache_key</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-cache_key" name="method-i-cache_key" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a cache key that can be used to identify this record.</p>

<h4 id="method-i-cache_key-label-Examples">Examples</h4>

<pre class="ruby"><span class="ruby-constant">Product</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">cache_key</span>     <span class="ruby-comment"># =&gt; &quot;products/new&quot;</span>
<span class="ruby-constant">Product</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">5</span>).<span class="ruby-identifier">cache_key</span> <span class="ruby-comment"># =&gt; &quot;products/5&quot; (updated_at not available)</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">5</span>).<span class="ruby-identifier">cache_key</span>  <span class="ruby-comment"># =&gt; &quot;people/5-20071224150000&quot; (updated_at available)</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-cache_key_source')" id="l_method-i-cache_key_source">show</a>
                
              </p>
              <div id="method-i-cache_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2538</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cache_key</span>
  <span class="ruby-keyword">case</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">new_record?</span>
    <span class="ruby-node">&quot;#{self.class.model_name.cache_key}/new&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">timestamp</span> = <span class="ruby-keyword">self</span>[<span class="ruby-value">:updated_at</span>]
    <span class="ruby-node">&quot;#{self.class.model_name.cache_key}/#{id}-#{timestamp.to_s(:number)}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-node">&quot;#{self.class.model_name.cache_key}/#{id}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-clone">
            
              <b>clone</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-clone" name="method-i-clone" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a clone of the record that hasn&#39;t been assigned an id yet and
is treated as a new record.  Note that this is a “shallow” clone: it copies
the object&#39;s attributes only, not its associations. The extent of a
“deep” clone is application-specific and is therefore left to the
application to implement according to its need.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-clone_source')" id="l_method-i-clone_source">show</a>
                
              </p>
              <div id="method-i-clone_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2641</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">clone</span>
  <span class="ruby-identifier">attrs</span> = <span class="ruby-identifier">clone_attributes</span>(<span class="ruby-value">:read_attribute_before_type_cast</span>)
  <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>)
  <span class="ruby-identifier">record</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">record</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:instance_variable_set</span>, <span class="ruby-string">&#39;@attributes&#39;</span>, <span class="ruby-identifier">attrs</span>
  <span class="ruby-identifier">record</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-column_for_attribute">
            
              <b>column_for_attribute</b>(name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-column_for_attribute" name="method-i-column_for_attribute" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the column object for the named attribute.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-column_for_attribute_source')" id="l_method-i-column_for_attribute_source">show</a>
                
              </p>
              <div id="method-i-column_for_attribute_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2856</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">column_for_attribute</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">columns_hash</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-connection">
            
              <b>connection</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-connection" name="method-i-connection" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the connection currently associated with the class. This can also
be used to “borrow” the connection to do database work that isn&#39;t
easily done without going straight to SQL.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-connection_source')" id="l_method-i-connection_source">show</a>
                
              </p>
              <div id="method-i-connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connection</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">connection</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-decrement">
            
              <b>decrement</b>(attribute, by = 1)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-decrement" name="method-i-decrement" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Initializes <code>attribute</code> to zero if <code>nil</code> and
subtracts the value passed as <code>by</code> (default is 1). The decrement
is performed directly on the underlying attribute, no setter is invoked.
Only makes sense for number-based attributes. Returns <code>self</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-decrement_source')" id="l_method-i-decrement_source">show</a>
                
              </p>
              <div id="method-i-decrement_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2713</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">decrement</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-number">1</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">||=</span> <span class="ruby-number">0</span>
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">-=</span> <span class="ruby-identifier">by</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-decrement-21">
            
              <b>decrement!</b>(attribute, by = 1)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-decrement-21" name="method-i-decrement-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Wrapper around <code>decrement</code> that saves the record. This method
differs from its non-bang version in that it passes through the attribute
setter. Saving is not subjected to validation checks. Returns
<code>true</code> if the record could be saved.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-decrement-21_source')" id="l_method-i-decrement-21_source">show</a>
                
              </p>
              <div id="method-i-decrement-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2723</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">decrement!</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-number">1</span>)
  <span class="ruby-identifier">decrement</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-delete">
            
              <b>delete</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-delete" name="method-i-delete" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can&#39;t be persisted). Returns
the frozen instance.</p>

<p>The row is simply removed with a SQL <code>DELETE</code> statement on the
record&#39;s primary key, and no callbacks are executed.</p>

<p>To enforce the object&#39;s <code>before_destroy</code> and
<code>after_destroy</code> callbacks, <a href="Observer.html">Observer</a>
methods, or any <code>:dependent</code> association options, use
<code>#destroy</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-delete_source')" id="l_method-i-delete_source">show</a>
                
              </p>
              <div id="method-i-delete_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2615</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">delete</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">id</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">new_record?</span>
  <span class="ruby-ivar">@destroyed</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-destroy">
            
              <b>destroy</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-destroy" name="method-i-destroy" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can&#39;t be persisted).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-destroy_source')" id="l_method-i-destroy_source">show</a>
                
              </p>
              <div id="method-i-destroy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2623</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">destroy</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">new_record?</span>
    <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete</span>(
      <span class="ruby-node">&quot;DELETE FROM #{self.class.quoted_table_name} &quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-node">&quot;WHERE #{connection.quote_column_name(self.class.primary_key)} = #{quoted_id}&quot;</span>,
      <span class="ruby-node">&quot;#{self.class.name} Destroy&quot;</span>
    )
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@destroyed</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-destroyed-3F">
            
              <b>destroyed?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-destroyed-3F" name="method-i-destroyed-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if the record has been destroyed.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-destroyed-3F_source')" id="l_method-i-destroyed-3F_source">show</a>
                
              </p>
              <div id="method-i-destroyed-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2890</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">destroyed?</span>
  <span class="ruby-ivar">@destroyed</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eql-3F">
            
              <b>eql?</b>(comparison_object)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-eql-3F" name="method-i-eql-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Delegates to ==</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2869</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">eql?</span>(<span class="ruby-identifier">comparison_object</span>)
  <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> (<span class="ruby-identifier">comparison_object</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-freeze">
            
              <b>freeze</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-freeze" name="method-i-freeze" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Freeze the attributes hash such that associations are still accessible,
even on destroyed records.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-freeze_source')" id="l_method-i-freeze_source">show</a>
                
              </p>
              <div id="method-i-freeze_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2880</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">freeze</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">freeze</span>; <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-frozen-3F">
            
              <b>frozen?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-frozen-3F" name="method-i-frozen-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if the attributes hash has been frozen.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-frozen-3F_source')" id="l_method-i-frozen-3F_source">show</a>
                
              </p>
              <div id="method-i-frozen-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2885</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">frozen?</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">frozen?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-has_attribute-3F">
            
              <b>has_attribute?</b>(attr_name)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-has_attribute-3F" name="method-i-has_attribute-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if the given attribute is in the attributes hash</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-has_attribute-3F_source')" id="l_method-i-has_attribute-3F_source">show</a>
                
              </p>
              <div id="method-i-has_attribute-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2846</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">has_attribute?</span>(<span class="ruby-identifier">attr_name</span>)
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">attr_name</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-hash">
            
              <b>hash</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-hash" name="method-i-hash" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Delegates to id in order to allow two records of the same type and id to
work with something like:</p>

<pre class="ruby">[ <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>), <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">2</span>), <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">3</span>) ] &amp; [ <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>), <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">4</span>) ] <span class="ruby-comment"># =&gt; [ Person.find(1) ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2875</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">hash</span>
  <span class="ruby-identifier">id</span>.<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-id">
            
              <b>id</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-id" name="method-i-id" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>A model instance&#39;s primary key is always available as model.id whether
you name it the default &#39;id&#39; or set it to something else.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-id_source')" id="l_method-i-id_source">show</a>
                
              </p>
              <div id="method-i-id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2494</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">id</span>
  <span class="ruby-identifier">attr_name</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>
  <span class="ruby-identifier">column</span> = <span class="ruby-identifier">column_for_attribute</span>(<span class="ruby-identifier">attr_name</span>)

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:define_read_method</span>, <span class="ruby-value">:id</span>, <span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">column</span>)
  <span class="ruby-comment"># now that the method exists, call it</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">attr_name</span>.<span class="ruby-identifier">to_sym</span>

<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-id-3D">
            
              <b>id=</b>(value)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-id-3D" name="method-i-id-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Sets the primary ID.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-id-3D_source')" id="l_method-i-id-3D_source">show</a>
                
              </p>
              <div id="method-i-id-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2558</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">id=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">write_attribute</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-increment">
            
              <b>increment</b>(attribute, by = 1)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-increment" name="method-i-increment" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Initializes <code>attribute</code> to zero if <code>nil</code> and adds the
value passed as <code>by</code> (default is 1). The increment is performed
directly on the underlying attribute, no setter is invoked. Only makes
sense for number-based attributes. Returns <code>self</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-increment_source')" id="l_method-i-increment_source">show</a>
                
              </p>
              <div id="method-i-increment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2696</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">increment</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-number">1</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">||=</span> <span class="ruby-number">0</span>
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">by</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-increment-21">
            
              <b>increment!</b>(attribute, by = 1)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-increment-21" name="method-i-increment-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Wrapper around <code>increment</code> that saves the record. This method
differs from its non-bang version in that it passes through the attribute
setter. Saving is not subjected to validation checks. Returns
<code>true</code> if the record could be saved.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-increment-21_source')" id="l_method-i-increment-21_source">show</a>
                
              </p>
              <div id="method-i-increment-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2706</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">increment!</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span> = <span class="ruby-number">1</span>)
  <span class="ruby-identifier">increment</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">by</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inspect">
            
              <b>inspect</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-inspect" name="method-i-inspect" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns the contents of the record as a nicely formatted string.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inspect_source')" id="l_method-i-inspect_source">show</a>
                
              </p>
              <div id="method-i-inspect_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2906</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inspect</span>
  <span class="ruby-identifier">attributes_as_nice_string</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">column_names</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_attribute?</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">new_record?</span>
      <span class="ruby-node">&quot;#{name}: #{attribute_for_inspect(name)}&quot;</span>
    <span class="ruby-keyword">end</span>
  }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>)
  <span class="ruby-node">&quot;#&lt;#{self.class} #{attributes_as_nice_string}&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-new_record-3F">
            
              <b>new_record?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-new_record-3F" name="method-i-new_record-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns true if this object hasn&#39;t been saved yet – that is, a record
for the object doesn&#39;t exist yet; otherwise, returns false.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-new_record-3F_source')" id="l_method-i-new_record-3F_source">show</a>
                
              </p>
              <div id="method-i-new_record-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2563</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new_record?</span>
  <span class="ruby-ivar">@new_record</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readonly-21">
            
              <b>readonly!</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-readonly-21" name="method-i-readonly-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Marks this record as read only.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-readonly-21_source')" id="l_method-i-readonly-21_source">show</a>
                
              </p>
              <div id="method-i-readonly-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2901</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">readonly!</span>
  <span class="ruby-ivar">@readonly</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readonly-3F">
            
              <b>readonly?</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-readonly-3F" name="method-i-readonly-3F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns <code>true</code> if the record is read only. Records loaded
through joins with piggy-back attributes will be marked as read only since
they cannot be saved.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-readonly-3F_source')" id="l_method-i-readonly-3F_source">show</a>
                
              </p>
              <div id="method-i-readonly-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2896</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">readonly?</span>
  <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@readonly</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@readonly</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reload">
            
              <b>reload</b>(options = nil)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-reload" name="method-i-reload" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Reloads the attributes of this object from the database. The optional
options argument is passed to find when reloading so you may do e.g.
record.reload(:lock =&gt; true) to reload the same record with an exclusive
row lock.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reload_source')" id="l_method-i-reload_source">show</a>
                
              </p>
              <div id="method-i-reload_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2748</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reload</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">clear_aggregation_cache</span>
  <span class="ruby-identifier">clear_association_cache</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">update</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:with_exclusive_scope</span>) { <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">find</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span>) }.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-string">&#39;@attributes&#39;</span>))
  <span class="ruby-ivar">@attributes_cache</span> = {}
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-save">
            
              <b>save(perform_validation = true)
</b>
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-save" name="method-i-save" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Saves the model.</p>

<p>If the model is new a record gets created in the database, otherwise the
existing record gets updated.</p>

<p>If <code>perform_validation</code> is true validations run. If any of them
fail the action is cancelled and <code>save</code> returns
<code>false</code>. If the flag is false validations are bypassed
altogether. See <a href="Validations.html">ActiveRecord::Validations</a>
for more information.</p>

<p>There&#39;s a series of callbacks associated with <code>save</code>. If any
of the <code>before_*</code> callbacks return <code>false</code> the action
is cancelled and <code>save</code> returns <code>false</code>. See <a
href="Callbacks.html">ActiveRecord::Callbacks</a> for further details.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-save_source')" id="l_method-i-save_source">show</a>
                
              </p>
              <div id="method-i-save_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2584</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">save</span>
  <span class="ruby-identifier">create_or_update</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-save-21">
            
              <b>save!</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-save-21" name="method-i-save-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Saves the model.</p>

<p>If the model is new a record gets created in the database, otherwise the
existing record gets updated.</p>

<p>With <code>save!</code> validations always run. If any of them fail <a
href="RecordInvalid.html">ActiveRecord::RecordInvalid</a> gets raised. See
<a href="Validations.html">ActiveRecord::Validations</a> for more
information.</p>

<p>There&#39;s a series of callbacks associated with <code>save!</code>. If
any of the <code>before_*</code> callbacks return <code>false</code> the
action is cancelled and <code>save!</code> raises <a
href="RecordNotSaved.html">ActiveRecord::RecordNotSaved</a>. See <a
href="Callbacks.html">ActiveRecord::Callbacks</a> for further details.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-save-21_source')" id="l_method-i-save-21_source">show</a>
                
              </p>
              <div id="method-i-save-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2601</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">save!</span>
  <span class="ruby-identifier">create_or_update</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">RecordNotSaved</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_param">
            
              <b>to_param</b>()
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-to_param" name="method-i-to_param" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns a <a href="../String.html">String</a>, which Action Pack uses for
constructing an URL to this object. The default implementation returns this
record&#39;s id as a <a href="../String.html">String</a>, or nil if this
record&#39;s unsaved.</p>

<p>For example, suppose that you have a User model, and that you have a
<code>map.resources :users</code> route. Normally, <code>user_path</code>
will construct a path with the user object&#39;s &#39;id&#39; in it:</p>

<pre class="ruby"><span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_name</span>(<span class="ruby-string">&#39;Phusion&#39;</span>)
<span class="ruby-identifier">user_path</span>(<span class="ruby-identifier">user</span>)  <span class="ruby-comment"># =&gt; &quot;/users/1&quot;</span>
</pre>

<p>You can override <code>to_param</code> in your model to make
<code>user_path</code> construct a path using the user&#39;s name instead
of the user&#39;s id:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">to_param</span>  <span class="ruby-comment"># overridden</span>
    <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_name</span>(<span class="ruby-string">&#39;Phusion&#39;</span>)
<span class="ruby-identifier">user_path</span>(<span class="ruby-identifier">user</span>)  <span class="ruby-comment"># =&gt; &quot;/users/Phusion&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_param_source')" id="l_method-i-to_param_source">show</a>
                
              </p>
              <div id="method-i-to_param_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2526</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_param</span>
  <span class="ruby-comment"># We can&#39;t use alias_method here, because method &#39;id&#39; optimizes itself on the fly.</span>
  (<span class="ruby-identifier">id</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span> <span class="ruby-comment"># Be sure to stringify the id for routes</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toggle">
            
              <b>toggle</b>(attribute)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-toggle" name="method-i-toggle" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Assigns to <code>attribute</code> the boolean opposite of
<code>attribute?</code>. So if the predicate returns <code>true</code> the
attribute will become <code>false</code>. This method toggles directly the
underlying value without calling any setter. Returns <code>self</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-toggle_source')" id="l_method-i-toggle_source">show</a>
                
              </p>
              <div id="method-i-toggle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2731</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toggle</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] = <span class="ruby-operator">!</span><span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{attribute}?&quot;</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toggle-21">
            
              <b>toggle!</b>(attribute)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-toggle-21" name="method-i-toggle-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Wrapper around <code>toggle</code> that saves the record. This method
differs from its non-bang version in that it passes through the attribute
setter. Saving is not subjected to validation checks. Returns
<code>true</code> if the record could be saved.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-toggle-21_source')" id="l_method-i-toggle-21_source">show</a>
                
              </p>
              <div id="method-i-toggle-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2740</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toggle!</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">toggle</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-update_attribute">
            
              <b>update_attribute</b>(name, value)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-update_attribute" name="method-i-update_attribute" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Updates a single attribute and saves the record without going through the
normal validation procedure. This is especially useful for boolean flags on
existing records. The regular <code>update_attribute</code> method in <a
href="Base.html">Base</a> is replaced with this when the validations module
is mixed in, which it is by default.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-update_attribute_source')" id="l_method-i-update_attribute_source">show</a>
                
              </p>
              <div id="method-i-update_attribute_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2667</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_attribute</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;=&#39;</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">save</span>(<span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-update_attributes">
            
              <b>update_attributes</b>(attributes)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-update_attributes" name="method-i-update_attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Updates all the attributes from the passed-in <a
href="../Hash.html">Hash</a> and saves the record. If the object is
invalid, the saving will fail and false will be returned.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-update_attributes_source')" id="l_method-i-update_attributes_source">show</a>
                
              </p>
              <div id="method-i-update_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2674</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_attributes</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">with_transaction_returning_status</span>(<span class="ruby-value">:update_attributes_inside_transaction</span>, <span class="ruby-identifier">attributes</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-update_attributes-21">
            
              <b>update_attributes!</b>(attributes)
            
            <a href="../../classes/ActiveRecord/Base.html#method-i-update_attributes-21" name="method-i-update_attributes-21" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Updates an object just like <a
href="Base.html#method-i-update_attributes">#update_attributes</a> but
calls save! instead of save so an exception is raised if the record is
invalid.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-update_attributes-21_source')" id="l_method-i-update_attributes-21_source">show</a>
                
              </p>
              <div id="method-i-update_attributes-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File activerecord/lib/active_record/base.rb, line 2684</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_attributes!</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">with_transaction_returning_status</span>(<span class="ruby-value">:update_attributes_inside_transaction!</span>, <span class="ruby-identifier">attributes</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    